{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Grid } from '@material-ui/core';\nimport { DialogMain, FormControllerTextField, FormControllerPasswordField } from '@/components';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { commonStore, userStore } from '@/store/reducers';\nimport getPasswordYup from '@/utils/getPasswordYup';\n\nfunction DialogResetPassword() {\n  var validationSchema = useMemo(function () {\n    return yup.object({\n      password: getPasswordYup('Password'),\n      confirm_password: yup.string().oneOf([yup.ref('password'), null], 'Confirm password does not match')\n    });\n  }, []);\n  var resetPasswordForm = useForm({\n    defaultValues: {\n      password: '',\n      confirm_password: ''\n    },\n    resolver: yupResolver(validationSchema)\n  });\n  var dispatch = useDispatch();\n  var dialogState = useSelector(userStore.selectResetPwdDialog);\n  useEffect(function () {\n    if (!dialogState.open) {\n      resetPasswordForm.reset();\n    }\n  }, [dialogState.open]);\n  var onResetPassword = resetPasswordForm.handleSubmit(function (data) {\n    dispatch(commonStore.actions.resetMessageState());\n    dispatch(userStore.sagaResetPassword(data));\n  });\n\n  var onClose = function onClose() {\n    resetPasswordForm.reset();\n    dispatch(userStore.actions.setResetPwdDialogOpen(false));\n    dispatch(commonStore.actions.resetMessageState());\n  };\n\n  return /*#__PURE__*/_jsx(DialogMain, {\n    open: dialogState.open,\n    title: \"Reset password\",\n    okText: \"Reset\",\n    onOk: onResetPassword,\n    onClose: onClose,\n    maxWidth: \"xs\",\n    loading: dialogState.loading,\n    children: /*#__PURE__*/_jsxs(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsx(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsx(FormControllerPasswordField, {\n          style: {\n            marginTop: 8\n          },\n          type: \"password\",\n          required: true,\n          name: \"password\",\n          label: \"New password\",\n          control: resetPasswordForm.control\n        })\n      }), /*#__PURE__*/_jsx(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsx(FormControllerTextField, {\n          type: \"password\",\n          required: true,\n          name: \"confirm_password\",\n          label: \"Confirm password\",\n          control: resetPasswordForm.control\n        })\n      })]\n    })\n  });\n}\n\nexport default DialogResetPassword;","map":null,"metadata":{},"sourceType":"module"}