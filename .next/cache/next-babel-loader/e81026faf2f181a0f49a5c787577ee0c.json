{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\Dialog\\\\Module\\\\Part\\\\Item\\\\DialogManufacturerAttr.tsx\";\nimport { DialogMain, TableExtendedProperties } from '@/components';\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useFormContext } from 'react-hook-form';\nimport _ from 'lodash';\nimport { partStore } from '@/store/reducers';\n\nconst DialogManufacturerAttr = props => {\n  const {\n    open,\n    attributes,\n    onChange,\n    onClose\n  } = props;\n  const parameters = useSelector(partStore.selectParameters);\n  const partForm = useFormContext();\n  const watchPartId = partForm.watch('id', null);\n  const attributeForm = useForm({\n    defaultValues: {\n      additional_attributes: {}\n    },\n    shouldUnregister: false\n  });\n  useEffect(() => {\n    attributeForm.setValue('additional_attributes', attributes || {});\n  }, [attributes]);\n\n  const handleSaveAttr = () => {\n    const {\n      additional_attributes\n    } = attributeForm.getValues();\n    onChange(additional_attributes);\n    handleClose();\n  };\n\n  const handleClose = () => {\n    onClose();\n    attributeForm.reset();\n  };\n\n  return /*#__PURE__*/_jsxDEV(DialogMain, {\n    open: open,\n    title: \"Attribute\",\n    okText: \"Save\",\n    onOk: handleSaveAttr,\n    onClose: handleClose,\n    children: /*#__PURE__*/_jsxDEV(TableExtendedProperties, {\n      control: attributeForm.control,\n      name: \"additional_attributes\",\n      editMode: !_.isNil(watchPartId),\n      propertiesList: parameters.MAAT,\n      tableHeight: 390,\n      parameterName: \"MAAT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\nexport default DialogManufacturerAttr;","map":{"version":3,"sources":["D:/TTS_Reactjs/malis-3-frontend/src/components/Dialog/Module/Part/Item/DialogManufacturerAttr.tsx"],"names":["DialogMain","TableExtendedProperties","useEffect","useSelector","useForm","useFormContext","_","partStore","DialogManufacturerAttr","props","open","attributes","onChange","onClose","parameters","selectParameters","partForm","watchPartId","watch","attributeForm","defaultValues","additional_attributes","shouldUnregister","setValue","handleSaveAttr","getValues","handleClose","reset","control","isNil","MAAT"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,uBAArB,QAAoD,cAApD;AAEA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,EAAkBC,cAAlB,QAAwC,iBAAxC;AAEA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAWA,MAAMC,sBAA6D,GAAIC,KAAD,IAAW;AAC/E,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,UAAR;AAAoBC,IAAAA,QAApB;AAA8BC,IAAAA;AAA9B,MAA0CJ,KAAhD;AAEA,QAAMK,UAAU,GAAGX,WAAW,CAACI,SAAS,CAACQ,gBAAX,CAA9B;AAEA,QAAMC,QAAQ,GAAGX,cAAc,EAA/B;AACA,QAAMY,WAAW,GAAGD,QAAQ,CAACE,KAAT,CAAe,IAAf,EAAqB,IAArB,CAApB;AAEA,QAAMC,aAAa,GAAGf,OAAO,CAAC;AAC5BgB,IAAAA,aAAa,EAAE;AAAEC,MAAAA,qBAAqB,EAAE;AAAzB,KADa;AAE5BC,IAAAA,gBAAgB,EAAE;AAFU,GAAD,CAA7B;AAKApB,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,aAAa,CAACI,QAAd,CAAuB,uBAAvB,EAAgDZ,UAAU,IAAI,EAA9D;AACD,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;;AAIA,QAAMa,cAAc,GAAG,MAAM;AAC3B,UAAM;AAAEH,MAAAA;AAAF,QAA4BF,aAAa,CAACM,SAAd,EAAlC;AACAb,IAAAA,QAAQ,CAACS,qBAAD,CAAR;AACAK,IAAAA,WAAW;AACZ,GAJD;;AAMA,QAAMA,WAAW,GAAG,MAAM;AACxBb,IAAAA,OAAO;AACPM,IAAAA,aAAa,CAACQ,KAAd;AACD,GAHD;;AAKA,sBACE,QAAC,UAAD;AAAY,IAAA,IAAI,EAAEjB,IAAlB;AAAwB,IAAA,KAAK,EAAC,WAA9B;AAA0C,IAAA,MAAM,EAAC,MAAjD;AAAwD,IAAA,IAAI,EAAEc,cAA9D;AAA8E,IAAA,OAAO,EAAEE,WAAvF;AAAA,2BACE,QAAC,uBAAD;AACE,MAAA,OAAO,EAAEP,aAAa,CAACS,OADzB;AAEE,MAAA,IAAI,EAAC,uBAFP;AAGE,MAAA,QAAQ,EAAE,CAACtB,CAAC,CAACuB,KAAF,CAAQZ,WAAR,CAHb;AAIE,MAAA,cAAc,EAAEH,UAAU,CAACgB,IAJ7B;AAKE,MAAA,WAAW,EAAE,GALf;AAME,MAAA,aAAa,EAAC;AANhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAxCD;;AA0CA,eAAetB,sBAAf","sourcesContent":["import { DialogMain, TableExtendedProperties } from '@/components'\n\nimport { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useForm, useFormContext } from 'react-hook-form'\n\nimport _ from 'lodash'\nimport { partStore } from '@/store/reducers'\n\nimport type { PartDetail } from '@/types/Part'\n\nexport type DialogManufacturerAttrProps = {\n  open: boolean\n  attributes: Record<string, any>\n  onChange(attributes): void\n  onClose(): void\n}\n\nconst DialogManufacturerAttr: React.FC<DialogManufacturerAttrProps> = (props) => {\n  const { open, attributes, onChange, onClose } = props\n\n  const parameters = useSelector(partStore.selectParameters)\n\n  const partForm = useFormContext<PartDetail>()\n  const watchPartId = partForm.watch('id', null)\n\n  const attributeForm = useForm({\n    defaultValues: { additional_attributes: {} },\n    shouldUnregister: false\n  })\n\n  useEffect(() => {\n    attributeForm.setValue('additional_attributes', attributes || {})\n  }, [attributes])\n\n  const handleSaveAttr = () => {\n    const { additional_attributes } = attributeForm.getValues()\n    onChange(additional_attributes)\n    handleClose()\n  }\n\n  const handleClose = () => {\n    onClose()\n    attributeForm.reset()\n  }\n\n  return (\n    <DialogMain open={open} title=\"Attribute\" okText=\"Save\" onOk={handleSaveAttr} onClose={handleClose}>\n      <TableExtendedProperties\n        control={attributeForm.control}\n        name=\"additional_attributes\"\n        editMode={!_.isNil(watchPartId)}\n        propertiesList={parameters.MAAT}\n        tableHeight={390}\n        parameterName=\"MAAT\"\n      />\n    </DialogMain>\n  )\n}\n\nexport default DialogManufacturerAttr\n"]},"metadata":{},"sourceType":"module"}