{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\Dialog\\\\Module\\\\Part\\\\Item\\\\TabStandard.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useDispatch } from 'react-redux';\nimport { useFormContext } from 'react-hook-form';\nimport { Box, Grid, Paper } from '@material-ui/core';\nimport { DataTable, AppAutocompleteAsync } from '@/components';\nimport * as columnProperties from '@/utils/columnProperties';\nimport { partStore } from '@/store/reducers';\nimport equivalenceApi from '@/apis/equivalence.api';\n\nconst TabStandard = () => {\n  const dispatch = useDispatch();\n  const partForm = useFormContext();\n  const watchFormValue = partForm.watch();\n\n  const handleSelectEquivalence = type => async (event, equiv) => {\n    dispatch(partStore.actions.setPartLoading(true));\n\n    try {\n      const {\n        standards\n      } = await equivalenceApi.getEquivalenceStandards(equiv.value);\n      const equivKey = type === 'manufacturing_standard' ? 'manufacturer_equiv' : 'material_equiv';\n      const standardKey = `${equivKey}_standards`;\n      partForm.setValue(standardKey, standards);\n      partForm.setValue(equivKey, equiv);\n    } catch (error) {\n      console.error('error', '>>>', error);\n    }\n\n    dispatch(partStore.actions.setPartLoading(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 2,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 6,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        marginBottom: 1.5,\n        children: /*#__PURE__*/_jsxDEV(AppAutocompleteAsync, {\n          disabled: Boolean(watchFormValue.reference_to),\n          compName: \"equivalence_list\",\n          additionalData: {\n            equiv_type: 'manufacturing_standard'\n          },\n          value: watchFormValue.manufacturer_equiv,\n          onChange: handleSelectEquivalence('manufacturing_standard'),\n          label: \"Manufacturing standard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 2,\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          tableHeight: 285,\n          hideFooter: true,\n          rows: watchFormValue.manufacturer_equiv_standards || [],\n          columns: [_objectSpread(_objectSpread({}, columnProperties.defaultProperties), {}, {\n            field: 'organization',\n            headerName: 'Organization',\n            flex: 0.5\n          }), _objectSpread(_objectSpread({}, columnProperties.defaultProperties), {}, {\n            field: 'description',\n            headerName: 'Standard',\n            flex: 0.5\n          })]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 6,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        marginBottom: 1.5,\n        children: /*#__PURE__*/_jsxDEV(AppAutocompleteAsync, {\n          disabled: Boolean(watchFormValue.reference_to),\n          compName: \"equivalence_list\",\n          additionalData: {\n            equiv_type: 'material_standard'\n          },\n          value: watchFormValue.material_equiv,\n          onChange: handleSelectEquivalence('material_standard'),\n          label: \"Material standard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 2,\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          hideFooter: true,\n          tableHeight: 285,\n          rows: watchFormValue.material_equiv_standards || [],\n          columns: [_objectSpread(_objectSpread({}, columnProperties.defaultProperties), {}, {\n            field: 'organization',\n            headerName: 'Organization',\n            flex: 0.5\n          }), _objectSpread(_objectSpread({}, columnProperties.defaultProperties), {}, {\n            field: 'description',\n            headerName: 'Standard',\n            flex: 0.5\n          })]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\nexport default TabStandard;","map":{"version":3,"sources":["D:/TTS_Reactjs/malis-3-frontend/src/components/Dialog/Module/Part/Item/TabStandard.tsx"],"names":["useDispatch","useFormContext","Box","Grid","Paper","DataTable","AppAutocompleteAsync","columnProperties","partStore","equivalenceApi","TabStandard","dispatch","partForm","watchFormValue","watch","handleSelectEquivalence","type","event","equiv","actions","setPartLoading","standards","getEquivalenceStandards","value","equivKey","standardKey","setValue","error","console","Boolean","reference_to","equiv_type","manufacturer_equiv","manufacturer_equiv_standards","defaultProperties","field","headerName","flex","material_equiv","material_equiv_standards"],"mappings":"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","sourcesContent":["import { useDispatch } from 'react-redux'\nimport { useFormContext } from 'react-hook-form'\n\nimport { Box, Grid, Paper } from '@material-ui/core'\nimport { DataTable, AppAutocompleteAsync } from '@/components'\n\nimport * as columnProperties from '@/utils/columnProperties'\nimport { partStore } from '@/store/reducers'\nimport equivalenceApi from '@/apis/equivalence.api'\n\nimport type { EquivalenceType } from '@/types/Equivalence'\nimport type { DataForDropdown } from '@/types/Common'\nimport type { ItemDetail } from '@/types/Item'\n\nconst TabStandard: React.FC = () => {\n  const dispatch = useDispatch()\n\n  const partForm = useFormContext<ItemDetail>()\n  const watchFormValue = partForm.watch()\n\n  const handleSelectEquivalence = (type: EquivalenceType) => async (event, equiv: DataForDropdown) => {\n    dispatch(partStore.actions.setPartLoading(true))\n    try {\n      const { standards } = await equivalenceApi.getEquivalenceStandards(equiv.value)\n      const equivKey = type === 'manufacturing_standard' ? 'manufacturer_equiv' : 'material_equiv'\n      const standardKey = `${equivKey}_standards`\n      partForm.setValue(standardKey, standards)\n      partForm.setValue(equivKey, equiv)\n    } catch (error) {\n      console.error('error', '>>>', error)\n    }\n    dispatch(partStore.actions.setPartLoading(false))\n  }\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={6}>\n        <Box marginBottom={1.5}>\n          <AppAutocompleteAsync\n            disabled={Boolean(watchFormValue.reference_to)}\n            compName=\"equivalence_list\"\n            additionalData={{ equiv_type: 'manufacturing_standard' }}\n            value={watchFormValue.manufacturer_equiv}\n            onChange={handleSelectEquivalence('manufacturing_standard')}\n            label=\"Manufacturing standard\"\n          />\n        </Box>\n        <Paper elevation={2}>\n          <DataTable\n            tableHeight={285}\n            hideFooter\n            rows={watchFormValue.manufacturer_equiv_standards || []}\n            columns={[\n              {\n                ...columnProperties.defaultProperties,\n                field: 'organization',\n                headerName: 'Organization',\n                flex: 0.5\n              },\n              {\n                ...columnProperties.defaultProperties,\n                field: 'description',\n                headerName: 'Standard',\n                flex: 0.5\n              }\n            ]}\n          />\n        </Paper>\n      </Grid>\n      <Grid item xs={6}>\n        <Box marginBottom={1.5}>\n          <AppAutocompleteAsync\n            disabled={Boolean(watchFormValue.reference_to)}\n            compName=\"equivalence_list\"\n            additionalData={{ equiv_type: 'material_standard' }}\n            value={watchFormValue.material_equiv}\n            onChange={handleSelectEquivalence('material_standard')}\n            label=\"Material standard\"\n          />\n        </Box>\n        <Paper elevation={2}>\n          <DataTable\n            hideFooter\n            tableHeight={285}\n            rows={watchFormValue.material_equiv_standards || []}\n            columns={[\n              {\n                ...columnProperties.defaultProperties,\n                field: 'organization',\n                headerName: 'Organization',\n                flex: 0.5\n              },\n              {\n                ...columnProperties.defaultProperties,\n                field: 'description',\n                headerName: 'Standard',\n                flex: 0.5\n              }\n            ]}\n          />\n        </Paper>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default TabStandard\n"]},"metadata":{},"sourceType":"module"}