{"ast":null,"code":"import { put } from 'redux-saga/effects';\nimport { StatusCode } from '@/utils/StatusCode';\nimport { commonStore, authStore } from '@/store/reducers';\nexport function* handleError(error) {\n  yield put(commonStore.actions.setLoadingPage(false));\n  const {\n    response\n  } = error;\n\n  if (!response) {\n    yield put(commonStore.actions.setErrorMessage('Error happend, please contact administrator'));\n\n    if (process.env.NEXT_PUBLIC_MODE === 'develop') {\n      console.error('error', '---->', error);\n    }\n\n    return;\n  }\n\n  const {\n    data\n  } = response;\n  let message = 'Error happend';\n\n  if (data && data.message) {\n    message = data.message;\n  }\n\n  if (response.status === StatusCode.UNAUTHORIZED) {\n    yield put(authStore.actions.setUnauthorized(true));\n  } else {\n    yield put(commonStore.actions.setErrorMessage(message));\n  }\n}\nexport function* setMessageHaveNotPermission() {\n  yield put(commonStore.actions.setErrorMessage('You do not have permission'));\n}","map":null,"metadata":{},"sourceType":"module"}