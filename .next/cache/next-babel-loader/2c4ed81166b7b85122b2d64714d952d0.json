{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\Fersher\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\Dialog\\\\Module\\\\Part\\\\Item\\\\DialogManufacturerAttr.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { DialogMain, TableExtendedProperties } from '@/components';\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useFormContext } from 'react-hook-form';\nimport _ from 'lodash';\nimport { partStore } from '@/store/reducers';\n\nvar DialogManufacturerAttr = function DialogManufacturerAttr(props) {\n  _s();\n\n  var open = props.open,\n      attributes = props.attributes,\n      onChange = props.onChange,\n      onClose = props.onClose;\n  var parameters = useSelector(partStore.selectParameters);\n  var partForm = useFormContext();\n  var watchPartId = partForm.watch('id', null);\n  var attributeForm = useForm({\n    defaultValues: {\n      additional_attributes: {}\n    },\n    shouldUnregister: false\n  });\n  useEffect(function () {\n    attributeForm.setValue('additional_attributes', attributes || {});\n  }, [attributes]);\n\n  var handleSaveAttr = function handleSaveAttr() {\n    var _attributeForm$getVal = attributeForm.getValues(),\n        additional_attributes = _attributeForm$getVal.additional_attributes;\n\n    onChange(additional_attributes);\n    handleClose();\n  };\n\n  var handleClose = function handleClose() {\n    onClose();\n    attributeForm.reset();\n  };\n\n  return /*#__PURE__*/_jsxDEV(DialogMain, {\n    open: open,\n    title: \"Attribute\",\n    okText: \"Save\",\n    onOk: handleSaveAttr,\n    onClose: handleClose,\n    children: /*#__PURE__*/_jsxDEV(TableExtendedProperties, {\n      control: attributeForm.control,\n      name: \"additional_attributes\",\n      editMode: !_.isNil(watchPartId),\n      propertiesList: parameters.MAAT,\n      tableHeight: 390,\n      parameterName: \"MAAT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(DialogManufacturerAttr, \"Rq+V2JU21eVZ1bIHDUM3YFrIRsg=\", false, function () {\n  return [useSelector, useFormContext, useForm];\n});\n\n_c = DialogManufacturerAttr;\nexport default DialogManufacturerAttr;\n\nvar _c;\n\n$RefreshReg$(_c, \"DialogManufacturerAttr\");","map":{"version":3,"sources":["D:/Fersher/TTS_Reactjs/malis-3-frontend/src/components/Dialog/Module/Part/Item/DialogManufacturerAttr.tsx"],"names":["DialogMain","TableExtendedProperties","useEffect","useSelector","useForm","useFormContext","_","partStore","DialogManufacturerAttr","props","open","attributes","onChange","onClose","parameters","selectParameters","partForm","watchPartId","watch","attributeForm","defaultValues","additional_attributes","shouldUnregister","setValue","handleSaveAttr","getValues","handleClose","reset","control","isNil","MAAT"],"mappings":";;;;;;AAAA,SAASA,UAAT,EAAqBC,uBAArB,QAAoD,cAApD;AAEA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,EAAkBC,cAAlB,QAAwC,iBAAxC;AAEA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAWA,IAAMC,sBAA6D,GAAG,SAAhEA,sBAAgE,CAACC,KAAD,EAAW;AAAA;;AAAA,MACvEC,IADuE,GAC/BD,KAD+B,CACvEC,IADuE;AAAA,MACjEC,UADiE,GAC/BF,KAD+B,CACjEE,UADiE;AAAA,MACrDC,QADqD,GAC/BH,KAD+B,CACrDG,QADqD;AAAA,MAC3CC,OAD2C,GAC/BJ,KAD+B,CAC3CI,OAD2C;AAG/E,MAAMC,UAAU,GAAGX,WAAW,CAACI,SAAS,CAACQ,gBAAX,CAA9B;AAEA,MAAMC,QAAQ,GAAGX,cAAc,EAA/B;AACA,MAAMY,WAAW,GAAGD,QAAQ,CAACE,KAAT,CAAe,IAAf,EAAqB,IAArB,CAApB;AAEA,MAAMC,aAAa,GAAGf,OAAO,CAAC;AAC5BgB,IAAAA,aAAa,EAAE;AAAEC,MAAAA,qBAAqB,EAAE;AAAzB,KADa;AAE5BC,IAAAA,gBAAgB,EAAE;AAFU,GAAD,CAA7B;AAKApB,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,aAAa,CAACI,QAAd,CAAuB,uBAAvB,EAAgDZ,UAAU,IAAI,EAA9D;AACD,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;;AAIA,MAAMa,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAAA,gCACOL,aAAa,CAACM,SAAd,EADP;AAAA,QACnBJ,qBADmB,yBACnBA,qBADmB;;AAE3BT,IAAAA,QAAQ,CAACS,qBAAD,CAAR;AACAK,IAAAA,WAAW;AACZ,GAJD;;AAMA,MAAMA,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBb,IAAAA,OAAO;AACPM,IAAAA,aAAa,CAACQ,KAAd;AACD,GAHD;;AAKA,sBACE,QAAC,UAAD;AAAY,IAAA,IAAI,EAAEjB,IAAlB;AAAwB,IAAA,KAAK,EAAC,WAA9B;AAA0C,IAAA,MAAM,EAAC,MAAjD;AAAwD,IAAA,IAAI,EAAEc,cAA9D;AAA8E,IAAA,OAAO,EAAEE,WAAvF;AAAA,2BACE,QAAC,uBAAD;AACE,MAAA,OAAO,EAAEP,aAAa,CAACS,OADzB;AAEE,MAAA,IAAI,EAAC,uBAFP;AAGE,MAAA,QAAQ,EAAE,CAACtB,CAAC,CAACuB,KAAF,CAAQZ,WAAR,CAHb;AAIE,MAAA,cAAc,EAAEH,UAAU,CAACgB,IAJ7B;AAKE,MAAA,WAAW,EAAE,GALf;AAME,MAAA,aAAa,EAAC;AANhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAYD,CAxCD;;GAAMtB,sB;UAGeL,W,EAEFE,c,EAGKD,O;;;KARlBI,sB;AA0CN,eAAeA,sBAAf","sourcesContent":["import { DialogMain, TableExtendedProperties } from '@/components'\n\nimport { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useForm, useFormContext } from 'react-hook-form'\n\nimport _ from 'lodash'\nimport { partStore } from '@/store/reducers'\n\nimport type { PartDetail } from '@/types/Part'\n\nexport type DialogManufacturerAttrProps = {\n  open: boolean\n  attributes: Record<string, any>\n  onChange(attributes): void\n  onClose(): void\n}\n\nconst DialogManufacturerAttr: React.FC<DialogManufacturerAttrProps> = (props) => {\n  const { open, attributes, onChange, onClose } = props\n\n  const parameters = useSelector(partStore.selectParameters)\n\n  const partForm = useFormContext<PartDetail>()\n  const watchPartId = partForm.watch('id', null)\n\n  const attributeForm = useForm({\n    defaultValues: { additional_attributes: {} },\n    shouldUnregister: false\n  })\n\n  useEffect(() => {\n    attributeForm.setValue('additional_attributes', attributes || {})\n  }, [attributes])\n\n  const handleSaveAttr = () => {\n    const { additional_attributes } = attributeForm.getValues()\n    onChange(additional_attributes)\n    handleClose()\n  }\n\n  const handleClose = () => {\n    onClose()\n    attributeForm.reset()\n  }\n\n  return (\n    <DialogMain open={open} title=\"Attribute\" okText=\"Save\" onOk={handleSaveAttr} onClose={handleClose}>\n      <TableExtendedProperties\n        control={attributeForm.control}\n        name=\"additional_attributes\"\n        editMode={!_.isNil(watchPartId)}\n        propertiesList={parameters.MAAT}\n        tableHeight={390}\n        parameterName=\"MAAT\"\n      />\n    </DialogMain>\n  )\n}\n\nexport default DialogManufacturerAttr\n"]},"metadata":{},"sourceType":"module"}