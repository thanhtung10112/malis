{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { DialogMain, TableExtendedProperties } from '@/components';\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useFormContext } from 'react-hook-form';\nimport _ from 'lodash';\nimport { partStore } from '@/store/reducers';\n\nvar DialogManufacturerAttr = function DialogManufacturerAttr(props) {\n  var open = props.open,\n      attributes = props.attributes,\n      onChange = props.onChange,\n      onClose = props.onClose;\n  var parameters = useSelector(partStore.selectParameters);\n  var partForm = useFormContext();\n  var watchPartId = partForm.watch('id', null);\n  var attributeForm = useForm({\n    defaultValues: {\n      additional_attributes: {}\n    },\n    shouldUnregister: false\n  });\n  useEffect(function () {\n    attributeForm.setValue('additional_attributes', attributes || {});\n  }, [attributes]);\n\n  var handleSaveAttr = function handleSaveAttr() {\n    var _attributeForm$getVal = attributeForm.getValues(),\n        additional_attributes = _attributeForm$getVal.additional_attributes;\n\n    onChange(additional_attributes);\n    handleClose();\n  };\n\n  var handleClose = function handleClose() {\n    onClose();\n    attributeForm.reset();\n  };\n\n  return /*#__PURE__*/_jsx(DialogMain, {\n    open: open,\n    title: \"Attribute\",\n    okText: \"Save\",\n    onOk: handleSaveAttr,\n    onClose: handleClose,\n    children: /*#__PURE__*/_jsx(TableExtendedProperties, {\n      control: attributeForm.control,\n      name: \"additional_attributes\",\n      editMode: !_.isNil(watchPartId),\n      propertiesList: parameters.MAAT,\n      tableHeight: 390,\n      parameterName: \"MAAT\"\n    })\n  });\n};\n\nexport default DialogManufacturerAttr;","map":null,"metadata":{},"sourceType":"module"}