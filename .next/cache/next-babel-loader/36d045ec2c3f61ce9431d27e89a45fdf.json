{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { DialogMain, TableExtendedProperties } from '@/components';\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useFormContext } from 'react-hook-form';\nimport _ from 'lodash';\nimport { partStore } from '@/store/reducers';\n\nconst DialogManufacturerAttr = props => {\n  const {\n    open,\n    attributes,\n    onChange,\n    onClose\n  } = props;\n  const parameters = useSelector(partStore.selectParameters);\n  const partForm = useFormContext();\n  const watchPartId = partForm.watch('id', null);\n  const attributeForm = useForm({\n    defaultValues: {\n      additional_attributes: {}\n    },\n    shouldUnregister: false\n  });\n  useEffect(() => {\n    attributeForm.setValue('additional_attributes', attributes || {});\n  }, [attributes]);\n\n  const handleSaveAttr = () => {\n    const {\n      additional_attributes\n    } = attributeForm.getValues();\n    onChange(additional_attributes);\n    handleClose();\n  };\n\n  const handleClose = () => {\n    onClose();\n    attributeForm.reset();\n  };\n\n  return /*#__PURE__*/_jsx(DialogMain, {\n    open: open,\n    title: \"Attribute\",\n    okText: \"Save\",\n    onOk: handleSaveAttr,\n    onClose: handleClose,\n    children: /*#__PURE__*/_jsx(TableExtendedProperties, {\n      control: attributeForm.control,\n      name: \"additional_attributes\",\n      editMode: !_.isNil(watchPartId),\n      propertiesList: parameters.MAAT,\n      tableHeight: 390,\n      parameterName: \"MAAT\"\n    })\n  });\n};\n\nexport default DialogManufacturerAttr;","map":null,"metadata":{},"sourceType":"module"}