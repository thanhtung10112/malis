{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as yup from 'yup';\nimport _ from 'lodash';\nvar importFileType = ['text/plain', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'];\n\nfunction getValidationSchema(t) {\n  var schema = yup.object().shape({\n    importFile: yup.mixed().test('required_file', t('form.message_validation.import_file_required'), function (value) {\n      return !_.isNil(value);\n    }).test('file_type', t('form.message_validation.import_file_check_type'), /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(value) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", importFileType.includes((value === null || value === void 0 ? void 0 : value.type) || ''));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).test('file_size', t('form.message_validation.import_file_check_size'), function (value) {\n      var fileSize = (value === null || value === void 0 ? void 0 : value.size) / 1024 / 1024 || 0;\n      return fileSize <= 1;\n    }),\n    mode: yup.number().transform(function (value) {\n      return parseInt(value);\n    })\n  });\n  return schema;\n}\n\nexport default getValidationSchema;","map":null,"metadata":{},"sourceType":"module"}