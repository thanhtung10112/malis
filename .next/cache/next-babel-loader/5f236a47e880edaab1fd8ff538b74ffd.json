{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Fersher\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\Dialog\\\\Module\\\\Location\\\\TabGeneral.tsx\";\nimport { useState } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'next-i18next';\nimport useStyles from './style';\nimport { Grid } from '@material-ui/core';\nimport { When } from 'react-if';\nimport { FormControllerTextField, FormControllerAutocomplete, InfoIcon, DocumentIcon, SectionTimezone, FormControllerTabs } from '@/components';\nimport TabMainAddress from './TabMainAddress';\nimport TabSecondaryAddress from './TabSecondaryAddress';\nimport { locationStore } from '@/store/reducers';\n\nconst TabGeneral = () => {\n  const {\n    t\n  } = useTranslation('location');\n  const classes = useStyles();\n  const locationForm = useFormContext();\n  const {\n    0: childTab,\n    1: setChildTab\n  } = useState(0);\n  const dispatch = useDispatch();\n  const dialogState = useSelector(locationStore.selectDialogState);\n  const {\n    parameters\n  } = useSelector(locationStore.selectInitDataForCE);\n  const permissions = useSelector(locationStore.selectPermissions);\n  const locationDetail = useSelector(locationStore.selectDetail);\n\n  const handleGetNextCode = () => {\n    const currentValues = locationForm.getValues();\n    dispatch(locationStore.sagaGetNextCode(currentValues));\n  };\n\n  const handleChangeChildTab = (event, nextTab) => {\n    setChildTab(nextTab);\n  };\n\n  const officeTab = {\n    label: t('form.tab.main_address'),\n    panel: /*#__PURE__*/_jsxDEV(TabMainAddress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this),\n    errorKey: ['office_email', 'office_zip']\n  };\n  const workshopWarehouseTab = {\n    label: t('form.tab.secondary_address'),\n    panel: /*#__PURE__*/_jsxDEV(TabSecondaryAddress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this),\n    errorKey: ['workshop_email', 'remark']\n  };\n  const tabs = [officeTab, workshopWarehouseTab];\n\n  const renderOption = option => `${option.parameter_id} - ${option.description}`;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControllerTextField, {\n          control: locationForm.control,\n          label: t('form.code'),\n          name: \"location_id\",\n          required: true,\n          generateCode: true,\n          autoFocus: !dialogState.editMode,\n          disabled: dialogState.editMode,\n          loading: dialogState.loading,\n          onGenerateCode: handleGetNextCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(FormControllerAutocomplete, {\n          control: locationForm.control,\n          name: \"language\",\n          options: parameters.PLLA,\n          renderOption: renderOption,\n          label: t('form.language'),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FormControllerAutocomplete, {\n          control: locationForm.control,\n          name: \"location_type\",\n          options: parameters.TYLO,\n          renderOption: renderOption,\n          disabled: !(permissions === null || permissions === void 0 ? void 0 : permissions.change_type) && dialogState.editMode,\n          label: t('form.type'),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FormControllerTextField, {\n          control: locationForm.control,\n          name: \"name\",\n          required: true,\n          label: t('form.name')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FormControllerTextField, {\n          control: locationForm.control,\n          multiline: true,\n          rows: 3,\n          name: \"comment\",\n          label: t('form.comment')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.document__container,\n      children: [/*#__PURE__*/_jsxDEV(InfoIcon, {\n        className: classes.document__iconText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.document__attach,\n        children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n          className: classes.document__iconText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.document__iconText,\n          children: t('common:attach_documents')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControllerTabs, {\n      value: childTab,\n      onChange: handleChangeChildTab,\n      form: locationForm,\n      tabs: tabs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(When, {\n      condition: dialogState.editMode,\n      children: /*#__PURE__*/_jsxDEV(SectionTimezone, {\n        style: {\n          padding: 0\n        },\n        value: locationDetail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport default TabGeneral;","map":{"version":3,"sources":["D:/Fersher/TTS_Reactjs/malis-3-frontend/src/components/Dialog/Module/Location/TabGeneral.tsx"],"names":["useState","useFormContext","useSelector","useDispatch","useTranslation","useStyles","Grid","When","FormControllerTextField","FormControllerAutocomplete","InfoIcon","DocumentIcon","SectionTimezone","FormControllerTabs","TabMainAddress","TabSecondaryAddress","locationStore","TabGeneral","t","classes","locationForm","childTab","setChildTab","dispatch","dialogState","selectDialogState","parameters","selectInitDataForCE","permissions","selectPermissions","locationDetail","selectDetail","handleGetNextCode","currentValues","getValues","sagaGetNextCode","handleChangeChildTab","event","nextTab","officeTab","label","panel","errorKey","workshopWarehouseTab","tabs","renderOption","option","parameter_id","description","control","editMode","loading","PLLA","TYLO","change_type","document__container","document__iconText","document__attach","padding"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { useFormContext } from 'react-hook-form'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useTranslation } from 'next-i18next'\nimport useStyles from './style'\n\nimport { Grid } from '@material-ui/core'\nimport { When } from 'react-if'\nimport {\n  FormControllerTextField,\n  FormControllerAutocomplete,\n  InfoIcon,\n  DocumentIcon,\n  SectionTimezone,\n  FormControllerTabs\n} from '@/components'\n\nimport TabMainAddress from './TabMainAddress'\nimport TabSecondaryAddress from './TabSecondaryAddress'\n\nimport { locationStore } from '@/store/reducers'\n\nimport type { LocationDetail } from '@/types/Location'\n\nconst TabGeneral: React.FC = () => {\n  const { t } = useTranslation('location')\n  const classes = useStyles()\n  const locationForm = useFormContext<LocationDetail>()\n\n  const [childTab, setChildTab] = useState(0)\n\n  const dispatch = useDispatch()\n  const dialogState = useSelector(locationStore.selectDialogState)\n  const { parameters } = useSelector(locationStore.selectInitDataForCE)\n  const permissions = useSelector(locationStore.selectPermissions)\n  const locationDetail = useSelector(locationStore.selectDetail)\n\n  const handleGetNextCode = () => {\n    const currentValues = locationForm.getValues()\n    dispatch(locationStore.sagaGetNextCode(currentValues))\n  }\n\n  const handleChangeChildTab = (event, nextTab) => {\n    setChildTab(nextTab)\n  }\n\n  const officeTab = {\n    label: t('form.tab.main_address'),\n    panel: <TabMainAddress />,\n    errorKey: ['office_email', 'office_zip']\n  }\n\n  const workshopWarehouseTab = {\n    label: t('form.tab.secondary_address'),\n    panel: <TabSecondaryAddress />,\n    errorKey: ['workshop_email', 'remark']\n  }\n\n  const tabs = [officeTab, workshopWarehouseTab]\n\n  const renderOption = (option) => `${option.parameter_id} - ${option.description}`\n\n  return (\n    <>\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <FormControllerTextField\n            control={locationForm.control}\n            label={t('form.code')}\n            name=\"location_id\"\n            required\n            generateCode\n            autoFocus={!dialogState.editMode}\n            disabled={dialogState.editMode}\n            loading={dialogState.loading}\n            onGenerateCode={handleGetNextCode}\n          />\n        </Grid>\n\n        <Grid item xs={6}>\n          <FormControllerAutocomplete\n            control={locationForm.control}\n            name=\"language\"\n            options={parameters.PLLA}\n            renderOption={renderOption}\n            label={t('form.language')}\n            required\n          />\n        </Grid>\n\n        <Grid item xs={12}>\n          <FormControllerAutocomplete\n            control={locationForm.control}\n            name=\"location_type\"\n            options={parameters.TYLO}\n            renderOption={renderOption}\n            disabled={!permissions?.change_type && dialogState.editMode}\n            label={t('form.type')}\n            required\n          />\n        </Grid>\n\n        <Grid item xs={12}>\n          <FormControllerTextField control={locationForm.control} name=\"name\" required label={t('form.name')} />\n        </Grid>\n\n        <Grid item xs={12}>\n          <FormControllerTextField\n            control={locationForm.control}\n            multiline\n            rows={3}\n            name=\"comment\"\n            label={t('form.comment')}\n          />\n        </Grid>\n      </Grid>\n\n      <section className={classes.document__container}>\n        <InfoIcon className={classes.document__iconText} />\n        <div className={classes.document__attach}>\n          <DocumentIcon className={classes.document__iconText} />\n          <span className={classes.document__iconText}>{t('common:attach_documents')}</span>\n        </div>\n      </section>\n\n      <FormControllerTabs value={childTab} onChange={handleChangeChildTab} form={locationForm} tabs={tabs} />\n\n      <When condition={dialogState.editMode}>\n        <SectionTimezone style={{ padding: 0 }} value={locationDetail} />\n      </When>\n    </>\n  )\n}\n\nexport default TabGeneral\n"]},"metadata":{},"sourceType":"module"}