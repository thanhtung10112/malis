{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Fersher\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\AdvancedFilter\\\\index.tsx\";\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport useStyles from './styles';\nimport { ExpandMore, Close as CloseIcon } from '@material-ui/icons';\nimport { AccordionSummary, Accordion, Grid, AccordionDetails, Tooltip, Divider, Paper } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { If, Then, Else } from 'react-if';\nimport { useTranslation } from 'next-i18next';\nimport FilterPresetList from './FilterPresetList';\nimport FilterDetails from './FilterDetails';\nimport { advancedFilterActions, commonStore } from '@/store/reducers';\n\nfunction AdvancedFilter() {\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation(['advanced_filter']);\n  const dispatch = useDispatch();\n  const isExpaned = useSelector(advancedFilterActions.selectIsExpanedSection);\n  const {\n    section: isLoadingSection\n  } = useSelector(advancedFilterActions.selectLoading);\n  const {\n    0: tooltip,\n    1: setTooltip\n  } = useState(t('tooltip.collapse'));\n  const {\n    0: activeTab,\n    1: setActiveTab\n  } = useState(0);\n\n  const onToggleAccordion = () => {\n    setTooltip(isExpaned ? t('tooltip.expand') : t('tooltip.collapse'));\n    dispatch(advancedFilterActions.setExpandedSection(!isExpaned));\n  };\n\n  const onCloseAdvancedFilter = event => {\n    event.stopPropagation();\n    dispatch(advancedFilterActions.resetState());\n    dispatch(commonStore.actions.setTableState({\n      page: 1\n    }));\n    dispatch(advancedFilterActions.close());\n  };\n\n  const onChangeActiveTab = (_, tabIndex) => {\n    setActiveTab(tabIndex);\n  };\n\n  useEffect(() => {\n    return () => {\n      dispatch(advancedFilterActions.resetState());\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: classes.root,\n    elevation: 0,\n    children: /*#__PURE__*/_jsxDEV(If, {\n      condition: isLoadingSection,\n      children: [/*#__PURE__*/_jsxDEV(Then, {\n        children: /*#__PURE__*/_jsxDEV(Skeleton, {\n          variant: \"rect\",\n          width: \"100%\",\n          height: 44,\n          animation: \"wave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Else, {\n        children: /*#__PURE__*/_jsxDEV(Accordion, {\n          expanded: isExpaned,\n          onChange: onToggleAccordion,\n          children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n            className: classes.rootAccordionSummary,\n            expandIcon: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: tooltip,\n              children: /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this),\n            \"aria-controls\": \"panel1a-content\",\n            id: \"panel1a-header\",\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: t('tooltip.close'),\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                className: classes.closeIcon,\n                onClick: onCloseAdvancedFilter\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.heading,\n              children: t('advanced_filter')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                className: classes.rootPresetList,\n                children: [/*#__PURE__*/_jsxDEV(FilterPresetList, {\n                  onChangeActiveTab: onChangeActiveTab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                  orientation: \"vertical\",\n                  className: \"divider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 8,\n                className: classes.rootPresetDetail,\n                children: /*#__PURE__*/_jsxDEV(FilterDetails, {\n                  activeTab: activeTab,\n                  onChangeActiveTab: onChangeActiveTab\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\nexport default AdvancedFilter;","map":{"version":3,"sources":["D:/Fersher/TTS_Reactjs/malis-3-frontend/src/components/AdvancedFilter/index.tsx"],"names":["useState","useEffect","useSelector","useDispatch","useStyles","ExpandMore","Close","CloseIcon","AccordionSummary","Accordion","Grid","AccordionDetails","Tooltip","Divider","Paper","Skeleton","If","Then","Else","useTranslation","FilterPresetList","FilterDetails","advancedFilterActions","commonStore","AdvancedFilter","classes","t","dispatch","isExpaned","selectIsExpanedSection","section","isLoadingSection","selectLoading","tooltip","setTooltip","activeTab","setActiveTab","onToggleAccordion","setExpandedSection","onCloseAdvancedFilter","event","stopPropagation","resetState","actions","setTableState","page","close","onChangeActiveTab","_","tabIndex","root","rootAccordionSummary","closeIcon","heading","rootPresetList","rootPresetDetail"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport useStyles from './styles'\n\nimport { ExpandMore, Close as CloseIcon } from '@material-ui/icons'\n\nimport { AccordionSummary, Accordion, Grid, AccordionDetails, Tooltip, Divider, Paper } from '@material-ui/core'\n\nimport { Skeleton } from '@material-ui/lab'\n\nimport { If, Then, Else } from 'react-if'\n\nimport { useTranslation } from 'next-i18next'\n\nimport FilterPresetList from './FilterPresetList'\nimport FilterDetails from './FilterDetails'\n\nimport { advancedFilterActions, commonStore } from '@/store/reducers'\n\nfunction AdvancedFilter() {\n  const classes = useStyles()\n\n  const { t } = useTranslation(['advanced_filter'])\n\n  const dispatch = useDispatch()\n  const isExpaned = useSelector(advancedFilterActions.selectIsExpanedSection)\n  const { section: isLoadingSection } = useSelector(advancedFilterActions.selectLoading)\n\n  const [tooltip, setTooltip] = useState(t('tooltip.collapse'))\n  const [activeTab, setActiveTab] = useState(0)\n\n  const onToggleAccordion = () => {\n    setTooltip(isExpaned ? t('tooltip.expand') : t('tooltip.collapse'))\n    dispatch(advancedFilterActions.setExpandedSection(!isExpaned))\n  }\n\n  const onCloseAdvancedFilter = (event) => {\n    event.stopPropagation()\n    dispatch(advancedFilterActions.resetState())\n    dispatch(commonStore.actions.setTableState({ page: 1 }))\n    dispatch(advancedFilterActions.close())\n  }\n\n  const onChangeActiveTab = (_, tabIndex) => {\n    setActiveTab(tabIndex)\n  }\n\n  useEffect(() => {\n    return () => {\n      dispatch(advancedFilterActions.resetState())\n    }\n  }, [])\n\n  return (\n    <Paper className={classes.root} elevation={0}>\n      <If condition={isLoadingSection}>\n        <Then>\n          <Skeleton variant=\"rect\" width=\"100%\" height={44} animation=\"wave\" />\n        </Then>\n\n        <Else>\n          <Accordion expanded={isExpaned} onChange={onToggleAccordion}>\n            <AccordionSummary\n              className={classes.rootAccordionSummary}\n              expandIcon={\n                <Tooltip title={tooltip}>\n                  <ExpandMore />\n                </Tooltip>\n              }\n              aria-controls=\"panel1a-content\"\n              id=\"panel1a-header\"\n            >\n              <Tooltip title={t('tooltip.close')}>\n                <CloseIcon className={classes.closeIcon} onClick={onCloseAdvancedFilter} />\n              </Tooltip>\n              <span className={classes.heading}>{t('advanced_filter')}</span>\n            </AccordionSummary>\n            <AccordionDetails>\n              <Grid container spacing={3}>\n                <Grid item xs={4} className={classes.rootPresetList}>\n                  <FilterPresetList onChangeActiveTab={onChangeActiveTab} />\n                  <Divider orientation=\"vertical\" className=\"divider\" />\n                </Grid>\n                <Grid item xs={8} className={classes.rootPresetDetail}>\n                  <FilterDetails activeTab={activeTab} onChangeActiveTab={onChangeActiveTab} />\n                </Grid>\n              </Grid>\n            </AccordionDetails>\n          </Accordion>\n        </Else>\n      </If>\n    </Paper>\n  )\n}\n\nexport default AdvancedFilter\n"]},"metadata":{},"sourceType":"module"}