{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getEntityFromStore),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(fetchPresetList),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(fetchPresetDetail),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(fetchInitDataForCreateUpdate),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(fetchInitDataForList),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(changeFilterType),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(open),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(create),\n    _marked9 = /*#__PURE__*/_regeneratorRuntime.mark(update),\n    _marked10 = /*#__PURE__*/_regeneratorRuntime.mark(getList),\n    _marked11 = /*#__PURE__*/_regeneratorRuntime.mark(getDetail),\n    _marked12 = /*#__PURE__*/_regeneratorRuntime.mark(share),\n    _marked13 = /*#__PURE__*/_regeneratorRuntime.mark(remove),\n    _marked14 = /*#__PURE__*/_regeneratorRuntime.mark(clearDefault),\n    _marked15 = /*#__PURE__*/_regeneratorRuntime.mark(startMakeAListExport),\n    _marked16 = /*#__PURE__*/_regeneratorRuntime.mark(stopMakeAListExport),\n    _marked17 = /*#__PURE__*/_regeneratorRuntime.mark(saveAs),\n    _marked18 = /*#__PURE__*/_regeneratorRuntime.mark(makeAListSaga);\n\nimport { call, put, takeEvery, select, takeLatest, all } from 'redux-saga/effects';\nimport _ from 'lodash';\nimport * as errorSaga from '@/store/saga/errorSaga';\nimport { makeAListActions, exportProcessDialogActions, commonStore } from '@/store/reducers';\nimport { removalProperties } from '@/utils/constant';\nimport malApi from '@/apis/makeAList.api';\nimport { StatusCode } from '@/utils/StatusCode';\n\nfunction getEntityFromStore() {\n  var entity;\n  return _regeneratorRuntime.wrap(function getEntityFromStore$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return select(commonStore.selectEntity);\n\n        case 2:\n          entity = _context.sent;\n          return _context.abrupt(\"return\", entity);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction fetchPresetList() {\n  var filterType,\n      type,\n      entity,\n      _yield$call,\n      make_a_list_preset_list,\n      _args2 = arguments;\n\n  return _regeneratorRuntime.wrap(function fetchPresetList$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          filterType = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : '';\n          type = filterType;\n\n          if (type) {\n            _context2.next = 6;\n            break;\n          }\n\n          _context2.next = 5;\n          return select(function (state) {\n            return state.makeAList.filterType;\n          });\n\n        case 5:\n          type = _context2.sent;\n\n        case 6:\n          _context2.next = 8;\n          return getEntityFromStore();\n\n        case 8:\n          entity = _context2.sent;\n          _context2.next = 11;\n          return call(malApi.getList, {\n            entity: entity,\n            type: type\n          });\n\n        case 11:\n          _yield$call = _context2.sent;\n          make_a_list_preset_list = _yield$call.make_a_list_preset_list;\n          _context2.next = 15;\n          return put(makeAListActions.setPresetList(make_a_list_preset_list));\n\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction fetchPresetDetail(id) {\n  var _yield$call2, make_a_list_preset, filterType;\n\n  return _regeneratorRuntime.wrap(function fetchPresetDetail$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return call(malApi.getDetail, id);\n\n        case 2:\n          _yield$call2 = _context3.sent;\n          make_a_list_preset = _yield$call2.make_a_list_preset;\n          _context3.next = 6;\n          return select(makeAListActions.selectFilterType);\n\n        case 6:\n          filterType = _context3.sent;\n\n          if (filterType === 'shared') {\n            make_a_list_preset.is_user_default = false;\n          }\n\n          _context3.next = 10;\n          return put(makeAListActions.setPresetDetail(make_a_list_preset));\n\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction fetchInitDataForCreateUpdate() {\n  var entity, data;\n  return _regeneratorRuntime.wrap(function fetchInitDataForCreateUpdate$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return getEntityFromStore();\n\n        case 2:\n          entity = _context4.sent;\n          _context4.next = 5;\n          return call(malApi.getInitDataForCE, entity);\n\n        case 5:\n          data = _context4.sent;\n          _context4.next = 8;\n          return put(makeAListActions.setInitData(data));\n\n        case 8:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction fetchInitDataForList(isSetPresetDetail) {\n  var entity, _yield$call3, current_default_preset, system_default_preset, make_a_list;\n\n  return _regeneratorRuntime.wrap(function fetchInitDataForList$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return getEntityFromStore();\n\n        case 2:\n          entity = _context5.sent;\n          _context5.next = 5;\n          return call(malApi.getInitDataForList, entity);\n\n        case 5:\n          _yield$call3 = _context5.sent;\n          current_default_preset = _yield$call3.current_default_preset;\n          system_default_preset = _yield$call3.system_default_preset;\n          make_a_list = _yield$call3.permissions.make_a_list;\n          _context5.next = 11;\n          return all([put(makeAListActions.setPresetDefault(current_default_preset)), put(makeAListActions.setSystemPreset(system_default_preset)), put(makeAListActions.setPermissions(make_a_list))]);\n\n        case 11:\n          _context5.t0 = isSetPresetDetail;\n\n          if (!_context5.t0) {\n            _context5.next = 15;\n            break;\n          }\n\n          _context5.next = 15;\n          return put(makeAListActions.setPresetDetail(current_default_preset));\n\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction changeFilterType(_ref) {\n  var filterType;\n  return _regeneratorRuntime.wrap(function changeFilterType$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          filterType = _ref.payload;\n          _context6.next = 3;\n          return put(makeAListActions.setLoadingTable(true));\n\n        case 3:\n          _context6.prev = 3;\n          _context6.next = 6;\n          return call(fetchPresetList, filterType);\n\n        case 6:\n          _context6.next = 8;\n          return put(makeAListActions.setFilterType(filterType));\n\n        case 8:\n          _context6.next = 14;\n          break;\n\n        case 10:\n          _context6.prev = 10;\n          _context6.t0 = _context6[\"catch\"](3);\n          _context6.next = 14;\n          return errorSaga.handleError(_context6.t0);\n\n        case 14:\n          _context6.next = 16;\n          return put(makeAListActions.setLoadingTable(false));\n\n        case 16:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[3, 10]]);\n}\n\nfunction open() {\n  var entity, _yield$call4, success, data, message, _success;\n\n  return _regeneratorRuntime.wrap(function open$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context7.next = 4;\n          return getEntityFromStore();\n\n        case 4:\n          entity = _context7.sent;\n          _context7.prev = 5;\n          _context7.next = 8;\n          return call(malApi.checkPermissions, entity);\n\n        case 8:\n          _yield$call4 = _context7.sent;\n          success = _yield$call4.success;\n\n          if (!success) {\n            _context7.next = 15;\n            break;\n          }\n\n          _context7.next = 13;\n          return all([call(fetchPresetList), call(fetchInitDataForList, true), call(fetchInitDataForCreateUpdate)]);\n\n        case 13:\n          _context7.next = 15;\n          return put(makeAListActions.setOpen(true));\n\n        case 15:\n          _context7.next = 26;\n          break;\n\n        case 17:\n          _context7.prev = 17;\n          _context7.t0 = _context7[\"catch\"](5);\n          data = _context7.t0.response.data;\n          message = data.message, _success = data.success;\n\n          if (_success) {\n            _context7.next = 26;\n            break;\n          }\n\n          _context7.next = 24;\n          return put(commonStore.actions.setErrorMessage(message));\n\n        case 24:\n          _context7.next = 26;\n          return put({\n            type: \"\".concat(entity, \"/setPermissions\"),\n            payload: {\n              make_a_list: false\n            }\n          });\n\n        case 26:\n          _context7.next = 28;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 28:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[5, 17]]);\n}\n\nfunction create(_ref2) {\n  var payload, id, created_at, created_by, updated_at, updated_by, is_system_default, presetDetail, data, _error$response, _data, status, _error;\n\n  return _regeneratorRuntime.wrap(function create$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context8.next = 3;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 3:\n          _context8.prev = 3;\n          id = payload.id, created_at = payload.created_at, created_by = payload.created_by, updated_at = payload.updated_at, updated_by = payload.updated_by, is_system_default = payload.is_system_default, presetDetail = _objectWithoutProperties(payload, [\"id\", \"created_at\", \"created_by\", \"updated_at\", \"updated_by\", \"is_system_default\"]);\n          _context8.next = 7;\n          return call(malApi.create, presetDetail);\n\n        case 7:\n          data = _context8.sent;\n          _context8.next = 10;\n          return all([call(fetchPresetDetail, data.id), call(fetchPresetList), call(fetchInitDataForList, false), put(commonStore.actions.setSuccessMessage(data.message)), put(makeAListActions.setIsEditMode(true)), put(makeAListActions.setMalForm({\n            clearError: true,\n            error: ''\n          }))]);\n\n        case 10:\n          _context8.next = 23;\n          break;\n\n        case 12:\n          _context8.prev = 12;\n          _context8.t0 = _context8[\"catch\"](3);\n          _error$response = _context8.t0.response, _data = _error$response.data, status = _error$response.status;\n\n          if (!(status === StatusCode.BAD_REQUEST)) {\n            _context8.next = 21;\n            break;\n          }\n\n          _error = _data.message;\n          _context8.next = 19;\n          return put(makeAListActions.setMalForm({\n            error: _error\n          }));\n\n        case 19:\n          _context8.next = 23;\n          break;\n\n        case 21:\n          _context8.next = 23;\n          return errorSaga.handleError(_context8.t0);\n\n        case 23:\n          _context8.next = 25;\n          return put(makeAListActions.setMalForm({\n            clearError: false,\n            error: ''\n          }));\n\n        case 25:\n          _context8.next = 27;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 27:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8, null, [[3, 12]]);\n}\n\nfunction update(_ref3) {\n  var payload, presetDetail, _yield$call5, message, _error$response2, data, status, _error2;\n\n  return _regeneratorRuntime.wrap(function update$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          payload = _ref3.payload;\n          _context9.next = 3;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 3:\n          _context9.prev = 3;\n          presetDetail = _.omit(payload, [].concat(_toConsumableArray(removalProperties), ['is_system_default', 'is_shared']));\n          _context9.next = 7;\n          return call(malApi.update, payload.id, presetDetail);\n\n        case 7:\n          _yield$call5 = _context9.sent;\n          message = _yield$call5.message;\n          _context9.next = 11;\n          return all([call(fetchPresetList), call(fetchInitDataForList, false), put(commonStore.actions.setSuccessMessage(message)), put(makeAListActions.setMalForm({\n            clearError: true,\n            error: ''\n          }))]);\n\n        case 11:\n          _context9.next = 24;\n          break;\n\n        case 13:\n          _context9.prev = 13;\n          _context9.t0 = _context9[\"catch\"](3);\n          _error$response2 = _context9.t0.response, data = _error$response2.data, status = _error$response2.status;\n\n          if (!(status === StatusCode.BAD_REQUEST)) {\n            _context9.next = 22;\n            break;\n          }\n\n          _error2 = data.message;\n          _context9.next = 20;\n          return put(makeAListActions.setMalForm({\n            error: _error2\n          }));\n\n        case 20:\n          _context9.next = 24;\n          break;\n\n        case 22:\n          _context9.next = 24;\n          return errorSaga.handleError(_context9.t0);\n\n        case 24:\n          _context9.next = 26;\n          return put(makeAListActions.setMalForm({\n            clearError: false,\n            error: ''\n          }));\n\n        case 26:\n          _context9.next = 28;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 28:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9, null, [[3, 13]]);\n}\n\nfunction getList() {\n  return _regeneratorRuntime.wrap(function getList$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context10.prev = 2;\n          _context10.next = 5;\n          return call(fetchPresetList);\n\n        case 5:\n          _context10.next = 11;\n          break;\n\n        case 7:\n          _context10.prev = 7;\n          _context10.t0 = _context10[\"catch\"](2);\n          _context10.next = 11;\n          return errorSaga.handleError(_context10.t0);\n\n        case 11:\n          _context10.next = 13;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 13:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10, null, [[2, 7]]);\n}\n\nfunction getDetail(_ref4) {\n  var id;\n  return _regeneratorRuntime.wrap(function getDetail$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          id = _ref4.payload;\n          _context11.next = 3;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 3:\n          _context11.prev = 3;\n          _context11.next = 6;\n          return call(fetchPresetDetail, id);\n\n        case 6:\n          _context11.next = 12;\n          break;\n\n        case 8:\n          _context11.prev = 8;\n          _context11.t0 = _context11[\"catch\"](3);\n          _context11.next = 12;\n          return errorSaga.handleError(_context11.t0);\n\n        case 12:\n          _context11.next = 14;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 14:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11, null, [[3, 8]]);\n}\n\nfunction share(_ref5) {\n  var payload, id, shared, _yield$call6, message;\n\n  return _regeneratorRuntime.wrap(function share$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          payload = _ref5.payload;\n          _context12.next = 3;\n          return put(makeAListActions.setLoadingTable(true));\n\n        case 3:\n          _context12.prev = 3;\n          id = payload.id, shared = payload.shared;\n          _context12.next = 7;\n          return call(malApi.share, id, shared);\n\n        case 7:\n          _yield$call6 = _context12.sent;\n          message = _yield$call6.message;\n          _context12.next = 11;\n          return call(fetchPresetList);\n\n        case 11:\n          _context12.next = 13;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 13:\n          _context12.next = 19;\n          break;\n\n        case 15:\n          _context12.prev = 15;\n          _context12.t0 = _context12[\"catch\"](3);\n          _context12.next = 19;\n          return errorSaga.handleError(_context12.t0);\n\n        case 19:\n          _context12.next = 21;\n          return put(makeAListActions.setLoadingTable(false));\n\n        case 21:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12, null, [[3, 15]]);\n}\n\nfunction remove() {\n  var _yield$select, id, _yield$call7, message;\n\n  return _regeneratorRuntime.wrap(function remove$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context13.prev = 2;\n          _context13.next = 5;\n          return select(makeAListActions.selectPresetDetail);\n\n        case 5:\n          _yield$select = _context13.sent;\n          id = _yield$select.id;\n          _context13.next = 9;\n          return call(malApi.remove, id);\n\n        case 9:\n          _yield$call7 = _context13.sent;\n          message = _yield$call7.message;\n          _context13.next = 13;\n          return all([call(fetchPresetList), call(fetchInitDataForList, true)]);\n\n        case 13:\n          _context13.next = 15;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 15:\n          _context13.next = 21;\n          break;\n\n        case 17:\n          _context13.prev = 17;\n          _context13.t0 = _context13[\"catch\"](2);\n          _context13.next = 21;\n          return errorSaga.handleError(_context13.t0);\n\n        case 21:\n          _context13.next = 23;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 23:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked13, null, [[2, 17]]);\n}\n\nfunction clearDefault() {\n  var entity, _yield$call8, message;\n\n  return _regeneratorRuntime.wrap(function clearDefault$(_context14) {\n    while (1) {\n      switch (_context14.prev = _context14.next) {\n        case 0:\n          _context14.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context14.prev = 2;\n          _context14.next = 5;\n          return getEntityFromStore();\n\n        case 5:\n          entity = _context14.sent;\n          _context14.next = 8;\n          return call(malApi.clearDefault, entity);\n\n        case 8:\n          _yield$call8 = _context14.sent;\n          message = _yield$call8.message;\n          _context14.next = 12;\n          return call(fetchInitDataForList, true);\n\n        case 12:\n          _context14.next = 14;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 14:\n          _context14.next = 20;\n          break;\n\n        case 16:\n          _context14.prev = 16;\n          _context14.t0 = _context14[\"catch\"](2);\n          _context14.next = 20;\n          return errorSaga.handleError(_context14.t0);\n\n        case 20:\n          _context14.next = 22;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 22:\n        case \"end\":\n          return _context14.stop();\n      }\n    }\n  }, _marked14, null, [[2, 16]]);\n}\n\nfunction startMakeAListExport(exportEvent) {\n  var exportDetails, entity, requestData, data, domain, redirectUrl;\n  return _regeneratorRuntime.wrap(function startMakeAListExport$(_context15) {\n    while (1) {\n      switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context15.prev = 2;\n          exportDetails = exportEvent.payload;\n          _context15.next = 6;\n          return getEntityFromStore();\n\n        case 6:\n          entity = _context15.sent;\n          requestData = {\n            entity: entity,\n            destination: exportDetails.destination,\n            columns_displayed: exportDetails.displayedColumns,\n            where_conditions: exportDetails.whereCondtions,\n            sort_conditions: exportDetails.sortConditions,\n            distinct: exportDetails.distinct,\n            ignore_case: exportDetails.ignoreCase\n          };\n          _context15.next = 10;\n          return call(malApi.startMakeAListExport, requestData);\n\n        case 10:\n          data = _context15.sent;\n\n          if (!data.success) {\n            _context15.next = 24;\n            break;\n          }\n\n          if (!data.result_path) {\n            _context15.next = 18;\n            break;\n          }\n\n          domain = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:5000/';\n          redirectUrl = \"\".concat(domain).concat(data.result_path);\n          window.open(redirectUrl);\n          _context15.next = 24;\n          break;\n\n        case 18:\n          _context15.next = 20;\n          return put(exportProcessDialogActions.setOperationId(data.operation_id));\n\n        case 20:\n          _context15.next = 22;\n          return put(exportProcessDialogActions.setCeleryId(data.celery_id));\n\n        case 22:\n          _context15.next = 24;\n          return put(exportProcessDialogActions.setOpen(true));\n\n        case 24:\n          _context15.next = 30;\n          break;\n\n        case 26:\n          _context15.prev = 26;\n          _context15.t0 = _context15[\"catch\"](2);\n          _context15.next = 30;\n          return errorSaga.handleError(_context15.t0);\n\n        case 30:\n          _context15.next = 32;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 32:\n        case \"end\":\n          return _context15.stop();\n      }\n    }\n  }, _marked15, null, [[2, 26]]);\n}\n\nfunction stopMakeAListExport(operationData) {\n  var requestData, data;\n  return _regeneratorRuntime.wrap(function stopMakeAListExport$(_context16) {\n    while (1) {\n      switch (_context16.prev = _context16.next) {\n        case 0:\n          _context16.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context16.prev = 2;\n          requestData = operationData.payload;\n          _context16.next = 6;\n          return call(malApi.stopMakeAListExport, requestData);\n\n        case 6:\n          data = _context16.sent;\n\n          if (data.success) {\n            put(commonStore.actions.setSuccessMessage(data.message));\n            put(exportProcessDialogActions.setOpen(false));\n          }\n\n          _context16.next = 14;\n          break;\n\n        case 10:\n          _context16.prev = 10;\n          _context16.t0 = _context16[\"catch\"](2);\n          _context16.next = 14;\n          return errorSaga.handleError(_context16.t0);\n\n        case 14:\n          _context16.next = 16;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 16:\n        case \"end\":\n          return _context16.stop();\n      }\n    }\n  }, _marked16, null, [[2, 10]]);\n}\n\nfunction saveAs(_ref6) {\n  var payload, id, created_at, created_by, updated_at, updated_by, is_system_default, presetDetail, data, _error$response3, _data2, status, _error3;\n\n  return _regeneratorRuntime.wrap(function saveAs$(_context17) {\n    while (1) {\n      switch (_context17.prev = _context17.next) {\n        case 0:\n          payload = _ref6.payload;\n          _context17.next = 3;\n          return put(makeAListActions.setLoadingDialog(true));\n\n        case 3:\n          _context17.prev = 3;\n          id = payload.id, created_at = payload.created_at, created_by = payload.created_by, updated_at = payload.updated_at, updated_by = payload.updated_by, is_system_default = payload.is_system_default, presetDetail = _objectWithoutProperties(payload, [\"id\", \"created_at\", \"created_by\", \"updated_at\", \"updated_by\", \"is_system_default\"]);\n          _context17.next = 7;\n          return call(malApi.create, presetDetail);\n\n        case 7:\n          data = _context17.sent;\n          _context17.next = 10;\n          return all([call(fetchPresetDetail, data.id), call(fetchPresetList), call(fetchInitDataForList, false), put(commonStore.actions.setSuccessMessage(data.message)), put(makeAListActions.setIsEditMode(true)), put(makeAListActions.setSaveAsForm({\n            open: false,\n            clearError: true,\n            error: ''\n          }))]);\n\n        case 10:\n          _context17.next = 23;\n          break;\n\n        case 12:\n          _context17.prev = 12;\n          _context17.t0 = _context17[\"catch\"](3);\n          _error$response3 = _context17.t0.response, _data2 = _error$response3.data, status = _error$response3.status;\n\n          if (!(status === StatusCode.BAD_REQUEST)) {\n            _context17.next = 21;\n            break;\n          }\n\n          _error3 = _data2.message;\n          _context17.next = 19;\n          return put(makeAListActions.setSaveAsForm({\n            error: _error3\n          }));\n\n        case 19:\n          _context17.next = 23;\n          break;\n\n        case 21:\n          _context17.next = 23;\n          return errorSaga.handleError(_context17.t0);\n\n        case 23:\n          _context17.next = 25;\n          return put(makeAListActions.setSaveAsForm({\n            clearError: false,\n            error: ''\n          }));\n\n        case 25:\n          _context17.next = 27;\n          return put(makeAListActions.setLoadingDialog(false));\n\n        case 27:\n        case \"end\":\n          return _context17.stop();\n      }\n    }\n  }, _marked17, null, [[3, 12]]);\n}\n\nfunction makeAListSaga() {\n  return _regeneratorRuntime.wrap(function makeAListSaga$(_context18) {\n    while (1) {\n      switch (_context18.prev = _context18.next) {\n        case 0:\n          _context18.next = 2;\n          return takeEvery(makeAListActions.create, create);\n\n        case 2:\n          _context18.next = 4;\n          return takeEvery(makeAListActions.getList, getList);\n\n        case 4:\n          _context18.next = 6;\n          return takeEvery(makeAListActions.getDetail, getDetail);\n\n        case 6:\n          _context18.next = 8;\n          return takeEvery(makeAListActions.share, share);\n\n        case 8:\n          _context18.next = 10;\n          return takeEvery(makeAListActions.update, update);\n\n        case 10:\n          _context18.next = 12;\n          return takeLatest(makeAListActions.remove, remove);\n\n        case 12:\n          _context18.next = 14;\n          return takeLatest(makeAListActions.open, open);\n\n        case 14:\n          _context18.next = 16;\n          return takeLatest(makeAListActions.clearDefault, clearDefault);\n\n        case 16:\n          _context18.next = 18;\n          return takeLatest(makeAListActions.exportMakeAList, startMakeAListExport);\n\n        case 18:\n          _context18.next = 20;\n          return takeLatest(makeAListActions.changeFilterType, changeFilterType);\n\n        case 20:\n          _context18.next = 22;\n          return takeLatest(makeAListActions.saveAs, saveAs);\n\n        case 22:\n          _context18.next = 24;\n          return takeLatest(makeAListActions.stopMakeAList, stopMakeAListExport);\n\n        case 24:\n        case \"end\":\n          return _context18.stop();\n      }\n    }\n  }, _marked18);\n}\n\nexport default makeAListSaga;","map":null,"metadata":{},"sourceType":"module"}