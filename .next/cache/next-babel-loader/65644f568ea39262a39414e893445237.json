{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport useStyles from './styles';\nimport { ExpandMore, Close as CloseIcon } from '@material-ui/icons';\nimport { AccordionSummary, Accordion, Grid, AccordionDetails, Tooltip, Divider, Paper } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { If, Then, Else } from 'react-if';\nimport { useTranslation } from 'next-i18next';\nimport FilterPresetList from './FilterPresetList';\nimport FilterDetails from './FilterDetails';\nimport { advancedFilterActions, commonStore } from '@/store/reducers';\n\nfunction AdvancedFilter() {\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation(['advanced_filter']);\n  const dispatch = useDispatch();\n  const isExpaned = useSelector(advancedFilterActions.selectIsExpanedSection);\n  const {\n    section: isLoadingSection\n  } = useSelector(advancedFilterActions.selectLoading);\n  const {\n    0: tooltip,\n    1: setTooltip\n  } = useState(t('tooltip.collapse'));\n  const {\n    0: activeTab,\n    1: setActiveTab\n  } = useState(0);\n\n  const onToggleAccordion = () => {\n    setTooltip(isExpaned ? t('tooltip.expand') : t('tooltip.collapse'));\n    dispatch(advancedFilterActions.setExpandedSection(!isExpaned));\n  };\n\n  const onCloseAdvancedFilter = event => {\n    event.stopPropagation();\n    dispatch(advancedFilterActions.resetState());\n    dispatch(commonStore.actions.setTableState({\n      page: 1\n    }));\n    dispatch(advancedFilterActions.close());\n  };\n\n  const onChangeActiveTab = (_, tabIndex) => {\n    setActiveTab(tabIndex);\n  };\n\n  useEffect(() => {\n    return () => {\n      dispatch(advancedFilterActions.resetState());\n    };\n  }, []);\n  return /*#__PURE__*/_jsx(Paper, {\n    className: classes.root,\n    elevation: 0,\n    children: /*#__PURE__*/_jsxs(If, {\n      condition: isLoadingSection,\n      children: [/*#__PURE__*/_jsx(Then, {\n        children: /*#__PURE__*/_jsx(Skeleton, {\n          variant: \"rect\",\n          width: \"100%\",\n          height: 44,\n          animation: \"wave\"\n        })\n      }), /*#__PURE__*/_jsx(Else, {\n        children: /*#__PURE__*/_jsxs(Accordion, {\n          expanded: isExpaned,\n          onChange: onToggleAccordion,\n          children: [/*#__PURE__*/_jsxs(AccordionSummary, {\n            className: classes.rootAccordionSummary,\n            expandIcon: /*#__PURE__*/_jsx(Tooltip, {\n              title: tooltip,\n              children: /*#__PURE__*/_jsx(ExpandMore, {})\n            }),\n            \"aria-controls\": \"panel1a-content\",\n            id: \"panel1a-header\",\n            children: [/*#__PURE__*/_jsx(Tooltip, {\n              title: t('tooltip.close'),\n              children: /*#__PURE__*/_jsx(CloseIcon, {\n                className: classes.closeIcon,\n                onClick: onCloseAdvancedFilter\n              })\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: classes.heading,\n              children: t('advanced_filter')\n            })]\n          }), /*#__PURE__*/_jsx(AccordionDetails, {\n            children: /*#__PURE__*/_jsxs(Grid, {\n              container: true,\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxs(Grid, {\n                item: true,\n                xs: 4,\n                className: classes.rootPresetList,\n                children: [/*#__PURE__*/_jsx(FilterPresetList, {\n                  onChangeActiveTab: onChangeActiveTab\n                }), /*#__PURE__*/_jsx(Divider, {\n                  orientation: \"vertical\",\n                  className: \"divider\"\n                })]\n              }), /*#__PURE__*/_jsx(Grid, {\n                item: true,\n                xs: 8,\n                className: classes.rootPresetDetail,\n                children: /*#__PURE__*/_jsx(FilterDetails, {\n                  activeTab: activeTab,\n                  onChangeActiveTab: onChangeActiveTab\n                })\n              })]\n            })\n          })]\n        })\n      })]\n    })\n  });\n}\n\nexport default AdvancedFilter;","map":null,"metadata":{},"sourceType":"module"}