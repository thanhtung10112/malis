{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\Header\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NextLink from 'next/link';\nimport { AppBar, Typography, Avatar, Box } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport { AccountCircle } from '@material-ui/icons';\nimport { If, Else, Then } from 'react-if';\nimport { MalisNavigation } from '@/components/index';\nimport { unsaveDialogOptions } from '@/utils/constant';\nimport logo from '../../public/malis_logo.gif';\nimport Popover from 'material-ui-popup-state/HoverPopover';\nimport { usePopupState, bindHover, bindPopover } from 'material-ui-popup-state/hooks';\nimport { useConfirm } from '@/components/index';\nimport useStyles from './styles';\nimport { authStore, commonStore } from '@/store/reducers';\n\nfunction Header() {\n  const dispatch = useDispatch();\n  const popupState = usePopupState({\n    variant: 'popover',\n    popupId: 'demoPopover'\n  });\n  const profile = useSelector(authStore.selectProfile);\n  const loadingAuth = useSelector(authStore.selectLoadingAuth);\n  const editRows = useSelector(commonStore.selectEditRows);\n  const classes = useStyles();\n  const {\n    confirm\n  } = useConfirm();\n  useEffect(() => {\n    dispatch(authStore.sagaGetProfile());\n  }, []);\n\n  const onLogout = async () => {\n    let result = '';\n\n    if (editRows.length > 0) {\n      result = await confirm(unsaveDialogOptions);\n    }\n\n    if (result !== 'cancel') {\n      dispatch(authStore.sagaLogout({\n        confirm: result\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      className: classes.header,\n      position: \"static\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"logo\",\n        role: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"The logo\",\n          width: 148,\n          height: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MalisNavigation, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(If, {\n          condition: loadingAuth,\n          children: [/*#__PURE__*/_jsxDEV(Then, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              className: classes.profile__loading,\n              children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                variant: \"circle\",\n                className: classes.profile__avatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                variant: \"text\",\n                width: 85\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Else, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n              className: classes.profile,\n              style: {\n                marginLeft: 12\n              }\n            }, bindHover(popupState)), {}, {\n              children: [/*#__PURE__*/_jsxDEV(If, {\n                condition: Boolean(profile.avatar),\n                children: [/*#__PURE__*/_jsxDEV(Then, {\n                  children: /*#__PURE__*/_jsxDEV(Avatar, {\n                    src: profile.avatar,\n                    className: classes.profile__avatar\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Else, {\n                  children: /*#__PURE__*/_jsxDEV(AccountCircle, {\n                    style: {\n                      marginRight: 5\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: classes.profile__info,\n                children: [profile.first_name, \" \", profile.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)]\n            }), void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popover, _objectSpread(_objectSpread({}, bindPopover(popupState)), {}, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      disableRestoreFocus: true,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          margin: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(NextLink, {\n          href: \"/profile\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          margin: 10,\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(NextLink, {\n          href: \"/settings\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          margin: 10,\n          cursor: 'pointer'\n        },\n        onClick: onLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\nexport default Header;","map":{"version":3,"sources":["D:/TTS_Reactjs/malis-3-frontend/src/components/Header/index.tsx"],"names":["useEffect","useDispatch","useSelector","NextLink","AppBar","Typography","Avatar","Box","Skeleton","AccountCircle","If","Else","Then","MalisNavigation","unsaveDialogOptions","logo","Popover","usePopupState","bindHover","bindPopover","useConfirm","useStyles","authStore","commonStore","Header","dispatch","popupState","variant","popupId","profile","selectProfile","loadingAuth","selectLoadingAuth","editRows","selectEditRows","classes","confirm","sagaGetProfile","onLogout","result","length","sagaLogout","header","display","height","profile__loading","profile__avatar","marginLeft","Boolean","avatar","marginRight","profile__info","first_name","last_name","vertical","horizontal","margin","cursor"],"mappings":"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","sourcesContent":["import { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport NextLink from 'next/link'\n\nimport { AppBar, Typography, Avatar, Box } from '@material-ui/core'\nimport { Skeleton } from '@material-ui/lab'\n\nimport { AccountCircle } from '@material-ui/icons'\nimport { If, Else, Then } from 'react-if'\nimport { MalisNavigation } from '@/components/index'\nimport { unsaveDialogOptions } from '@/utils/constant'\n\nimport logo from '../../public/malis_logo.gif'\n\nimport Popover from 'material-ui-popup-state/HoverPopover'\nimport { usePopupState, bindHover, bindPopover } from 'material-ui-popup-state/hooks'\n\nimport { useConfirm } from '@/components/index'\nimport useStyles from './styles'\n\nimport { authStore, commonStore } from '@/store/reducers'\n\nfunction Header() {\n  const dispatch = useDispatch()\n\n  const popupState = usePopupState({\n    variant: 'popover',\n    popupId: 'demoPopover'\n  })\n\n  const profile = useSelector(authStore.selectProfile)\n  const loadingAuth = useSelector(authStore.selectLoadingAuth)\n  const editRows = useSelector(commonStore.selectEditRows)\n\n  const classes = useStyles()\n\n  const { confirm } = useConfirm()\n\n  useEffect(() => {\n    dispatch(authStore.sagaGetProfile())\n  }, [])\n\n  const onLogout = async () => {\n    let result = ''\n    if (editRows.length > 0) {\n      result = await confirm(unsaveDialogOptions)\n    }\n    if (result !== 'cancel') {\n      dispatch(authStore.sagaLogout({ confirm: result }))\n    }\n  }\n\n  return (\n    <>\n      <AppBar className={classes.header} position=\"static\">\n        <div id=\"logo\" role=\"logo\">\n          <img src={logo} alt=\"The logo\" width={148} height={32} />\n        </div>\n        <div style={{ display: 'flex', height: '100%' }}>\n          <MalisNavigation />\n          <If condition={loadingAuth}>\n            <Then>\n              <Box className={classes.profile__loading}>\n                <Skeleton variant=\"circle\" className={classes.profile__avatar} />\n                <Skeleton variant=\"text\" width={85} />\n              </Box>\n            </Then>\n            <Else>\n              <div className={classes.profile} style={{ marginLeft: 12 }} {...bindHover(popupState)}>\n                <If condition={Boolean(profile.avatar)}>\n                  <Then>\n                    <Avatar src={profile.avatar} className={classes.profile__avatar} />\n                  </Then>\n                  <Else>\n                    <AccountCircle style={{ marginRight: 5 }} />\n                  </Else>\n                </If>\n                <span className={classes.profile__info}>\n                  {profile.first_name} {profile.last_name}\n                </span>\n              </div>\n            </Else>\n          </If>\n        </div>\n      </AppBar>\n      <Popover\n        {...bindPopover(popupState)}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center'\n        }}\n        disableRestoreFocus\n      >\n        <Typography style={{ margin: 10 }}>\n          <NextLink href=\"/profile\">\n            <a>Profile</a>\n          </NextLink>\n        </Typography>\n        <Typography style={{ margin: 10, cursor: 'pointer' }}>\n          <NextLink href=\"/settings\">\n            <a>Settings</a>\n          </NextLink>\n        </Typography>\n        <Typography style={{ margin: 10, cursor: 'pointer' }} onClick={onLogout}>\n          Logout\n        </Typography>\n      </Popover>\n    </>\n  )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}