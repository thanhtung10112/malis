{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\FormController\\\\Tabs\\\\index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { useEffect } from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\nimport { FormProvider } from 'react-hook-form';\nimport { MalisPanel } from '@/components/index';\nimport _ from 'lodash';\n\nfunction FormControllerTabs(props) {\n  const {\n    tabs,\n    value,\n    onChange,\n    form,\n    resetTabValue\n  } = props;\n  useEffect(() => {\n    const {\n      errors\n    } = form;\n\n    const keysError = _.keys(errors);\n\n    if (keysError.length === 0) {\n      return;\n    }\n\n    const keyError = keysError[0];\n    const errorKey = tabs.map(({\n      errorKey\n    }) => errorKey || []);\n\n    for (let i = 0; i < errorKey.length; i++) {\n      if (errorKey[i].includes(keyError)) {\n        onChange(null, i);\n        break;\n      }\n    }\n  }, [form.errors]);\n  useEffect(() => {\n    return () => {\n      if (resetTabValue) {\n        onChange(null, 0);\n      }\n    };\n  }, []);\n\n  const renderTab = () => tabs.filter(tab => !tab.hide).map((_ref, index) => {\n    let {\n      panel,\n      panelProps,\n      errorKey,\n      hide\n    } = _ref,\n        tabProps = _objectWithoutProperties(_ref, [\"panel\", \"panelProps\", \"errorKey\", \"hide\"]);\n\n    return /*#__PURE__*/_jsxDEV(Tab, _objectSpread({\n      value: index\n    }, tabProps), index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this);\n  });\n\n  const renderTabPanel = () => tabs.filter(tab => !tab.hide).map(({\n    panel,\n    panelProps\n  }, index) => /*#__PURE__*/_jsxDEV(MalisPanel, _objectSpread(_objectSpread({\n    value: value,\n    index: index\n  }, panelProps), {}, {\n    children: panel\n  }), `tabPanel - ${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this));\n\n  return /*#__PURE__*/_jsxDEV(FormProvider, _objectSpread(_objectSpread({}, form), {}, {\n    children: [/*#__PURE__*/_jsxDEV(Tabs, {\n      value: value,\n      onChange: onChange,\n      children: renderTab()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), renderTabPanel()]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\nFormControllerTabs.defaultProps = {\n  resetTabValue: true\n};\nexport default FormControllerTabs;","map":{"version":3,"sources":["D:/TTS_Reactjs/malis-3-frontend/src/components/FormController/Tabs/index.tsx"],"names":["useEffect","Tabs","Tab","FormProvider","MalisPanel","_","FormControllerTabs","props","tabs","value","onChange","form","resetTabValue","errors","keysError","keys","length","keyError","errorKey","map","i","includes","renderTab","filter","tab","hide","index","panel","panelProps","tabProps","renderTabPanel","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,SAASC,IAAT,EAAeC,GAAf,QAA0B,mBAA1B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAEA,OAAOC,CAAP,MAAc,QAAd;;AAIA,SAASC,kBAAT,CAA+BC,KAA/B,EAAiE;AAC/D,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA,QAAf;AAAyBC,IAAAA,IAAzB;AAA+BC,IAAAA;AAA/B,MAAiDL,KAAvD;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAEa,MAAAA;AAAF,QAAaF,IAAnB;;AACA,UAAMG,SAAS,GAAGT,CAAC,CAACU,IAAF,CAAOF,MAAP,CAAlB;;AACA,QAAIC,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACD;;AACD,UAAMC,QAAQ,GAAGH,SAAS,CAAC,CAAD,CAA1B;AACA,UAAMI,QAAQ,GAAGV,IAAI,CAACW,GAAL,CAAS,CAAC;AAAED,MAAAA;AAAF,KAAD,KAAkBA,QAAQ,IAAI,EAAvC,CAAjB;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACF,MAA7B,EAAqCI,CAAC,EAAtC,EAA0C;AACxC,UAAIF,QAAQ,CAACE,CAAD,CAAR,CAAYC,QAAZ,CAAqBJ,QAArB,CAAJ,EAAoC;AAClCP,QAAAA,QAAQ,CAAC,IAAD,EAAOU,CAAP,CAAR;AACA;AACD;AACF;AACF,GAdQ,EAcN,CAACT,IAAI,CAACE,MAAN,CAdM,CAAT;AAgBAb,EAAAA,SAAS,CAAC,MAAM;AACd,WAAO,MAAM;AACX,UAAIY,aAAJ,EAAmB;AACjBF,QAAAA,QAAQ,CAAC,IAAD,EAAO,CAAP,CAAR;AACD;AACF,KAJD;AAKD,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMY,SAAS,GAAG,MAChBd,IAAI,CACDe,MADH,CACWC,GAAD,IAAS,CAACA,GAAG,CAACC,IADxB,EAEGN,GAFH,CAEO,OAAqDO,KAArD;AAAA,QAAC;AAAEC,MAAAA,KAAF;AAASC,MAAAA,UAAT;AAAqBV,MAAAA,QAArB;AAA+BO,MAAAA;AAA/B,KAAD;AAAA,QAAyCI,QAAzC;;AAAA,wBACH,QAAC,GAAD;AAAiB,MAAA,KAAK,EAAEH;AAAxB,OAAmCG,QAAnC,GAAUH,KAAV;AAAA;AAAA;AAAA;AAAA,YADG;AAAA,GAFP,CADF;;AAOA,QAAMI,cAAc,GAAG,MACrBtB,IAAI,CACDe,MADH,CACWC,GAAD,IAAS,CAACA,GAAG,CAACC,IADxB,EAEGN,GAFH,CAEO,CAAC;AAAEQ,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,EAAwBF,KAAxB,kBACH,QAAC,UAAD;AAAwC,IAAA,KAAK,EAAEjB,KAA/C;AAAsD,IAAA,KAAK,EAAEiB;AAA7D,KAAwEE,UAAxE;AAAA,cACGD;AADH,MAAkB,cAAaD,KAAM,EAArC;AAAA;AAAA;AAAA;AAAA,UAHJ,CADF;;AASA,sBACE,QAAC,YAAD,kCAAkBf,IAAlB;AAAA,4BACE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAEF,KAAb;AAAoB,MAAA,QAAQ,EAAEC,QAA9B;AAAA,gBACGY,SAAS;AADZ;AAAA;AAAA;AAAA;AAAA,YADF,EAIGQ,cAAc,EAJjB;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD;;AAEDxB,kBAAkB,CAACyB,YAAnB,GAAkC;AAChCnB,EAAAA,aAAa,EAAE;AADiB,CAAlC;AAIA,eAAeN,kBAAf","sourcesContent":["import { useEffect } from 'react'\n\nimport { Tabs, Tab } from '@material-ui/core'\nimport { FormProvider } from 'react-hook-form'\nimport { MalisPanel } from '@/components/index'\n\nimport _ from 'lodash'\n\nimport type { FormControllerTabProps } from './type'\n\nfunction FormControllerTabs<T>(props: FormControllerTabProps<T>) {\n  const { tabs, value, onChange, form, resetTabValue } = props\n\n  useEffect(() => {\n    const { errors } = form\n    const keysError = _.keys(errors)\n    if (keysError.length === 0) {\n      return\n    }\n    const keyError = keysError[0]\n    const errorKey = tabs.map(({ errorKey }) => errorKey || [])\n    for (let i = 0; i < errorKey.length; i++) {\n      if (errorKey[i].includes(keyError)) {\n        onChange(null, i)\n        break\n      }\n    }\n  }, [form.errors])\n\n  useEffect(() => {\n    return () => {\n      if (resetTabValue) {\n        onChange(null, 0)\n      }\n    }\n  }, [])\n\n  const renderTab = () =>\n    tabs\n      .filter((tab) => !tab.hide)\n      .map(({ panel, panelProps, errorKey, hide, ...tabProps }, index) => (\n        <Tab key={index} value={index} {...tabProps} />\n      ))\n\n  const renderTabPanel = () =>\n    tabs\n      .filter((tab) => !tab.hide)\n      .map(({ panel, panelProps }, index) => (\n        <MalisPanel key={`tabPanel - ${index}`} value={value} index={index} {...panelProps}>\n          {panel}\n        </MalisPanel>\n      ))\n\n  return (\n    <FormProvider {...form}>\n      <Tabs value={value} onChange={onChange}>\n        {renderTab()}\n      </Tabs>\n      {renderTabPanel()}\n    </FormProvider>\n  )\n}\n\nFormControllerTabs.defaultProps = {\n  resetTabValue: true\n}\n\nexport default FormControllerTabs\n"]},"metadata":{},"sourceType":"module"}