{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { userStore } from '@/store/reducers';\nimport { useFormContext } from 'react-hook-form';\nimport { Paper } from '@material-ui/core';\nimport { DataTable } from '@/components';\nimport _ from 'lodash';\n\nfunction TabUserGroup() {\n  var userForm = useFormContext();\n  var watchGroup = userForm.watch('groups', []);\n  var userDetail = useSelector(userStore.selectDetail);\n\n  var _useSelector = useSelector(userStore.selectInitDataForCE),\n      groups = _useSelector.groups;\n\n  var isCreating = _.isNil(userDetail.id);\n\n  var filterRow = useMemo(function () {\n    return groups.filter(function (g) {\n      return g.status === true || (userDetail === null || userDetail === void 0 ? void 0 : userDetail.groups.includes(g.id));\n    });\n  }, [groups, userDetail]);\n\n  var onSelectGroups = function onSelectGroups(_ref) {\n    var selectionModel = _ref.selectionModel;\n    userForm.setValue('groups', selectionModel);\n  };\n\n  var columns = useMemo(function () {\n    return [{\n      field: 'group_id',\n      headerName: 'Group #',\n      width: 100,\n      sortable: false,\n      disableColumnMenu: true,\n      renderCell: function renderCell(param) {\n        if (param.row.status) {\n          return /*#__PURE__*/_jsx(\"span\", {\n            children: param.value\n          });\n        }\n\n        return /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: param.value\n        });\n      }\n    }, {\n      field: 'name',\n      headerName: 'Group name',\n      sortable: false,\n      disableColumnMenu: true,\n      flex: 1,\n      renderCell: function renderCell(param) {\n        if (param.row.status) {\n          return /*#__PURE__*/_jsx(\"span\", {\n            children: param.value\n          });\n        }\n\n        return /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: param.value\n        });\n      }\n    }];\n  }, []);\n  return /*#__PURE__*/_jsx(Paper, {\n    elevation: 2,\n    children: /*#__PURE__*/_jsx(DataTable, {\n      checkboxSelection: true,\n      tableHeight: isCreating ? 475 : 450,\n      rows: filterRow,\n      columns: columns,\n      headerHeight: 30,\n      rowHeight: 30,\n      hideFooter: true,\n      selectionModel: watchGroup,\n      onSelectionModelChange: onSelectGroups\n    })\n  });\n}\n\nexport default TabUserGroup;","map":null,"metadata":{},"sourceType":"module"}