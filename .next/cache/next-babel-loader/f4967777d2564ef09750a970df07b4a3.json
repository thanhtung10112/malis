{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getEntity),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(fetchDefaultFilter),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(fetchFilterList),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(fetchInitDataForCreateEdit),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(fetchFilterDetail),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(open),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(changeFilterType),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(getList),\n    _marked9 = /*#__PURE__*/_regeneratorRuntime.mark(getDefaultFilter),\n    _marked10 = /*#__PURE__*/_regeneratorRuntime.mark(create),\n    _marked11 = /*#__PURE__*/_regeneratorRuntime.mark(update),\n    _marked12 = /*#__PURE__*/_regeneratorRuntime.mark(share),\n    _marked13 = /*#__PURE__*/_regeneratorRuntime.mark(getDetail),\n    _marked14 = /*#__PURE__*/_regeneratorRuntime.mark(remove),\n    _marked15 = /*#__PURE__*/_regeneratorRuntime.mark(clearDefaultFilter),\n    _marked16 = /*#__PURE__*/_regeneratorRuntime.mark(saveAs),\n    _marked17 = /*#__PURE__*/_regeneratorRuntime.mark(apply),\n    _marked18 = /*#__PURE__*/_regeneratorRuntime.mark(close),\n    _marked19 = /*#__PURE__*/_regeneratorRuntime.mark(advancedFilterSaga);\n\nimport { put, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { select, all, call } from 'typed-redux-saga';\nimport { authStore, advancedFilterActions, commonStore } from '@/store/reducers';\nimport { createAction } from '@reduxjs/toolkit';\nimport * as errorSaga from '@/store/saga/errorSaga';\nimport afApi from '@/apis/advancedFilter.api';\nimport { StatusCode } from '@/utils/StatusCode';\nimport { actionTypes } from '@/utils/constant';\n\nfunction getEntity() {\n  var entity;\n  return _regeneratorRuntime.wrap(function getEntity$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.delegateYield(select(commonStore.selectEntity), \"t0\", 1);\n\n        case 1:\n          entity = _context.t0;\n          return _context.abrupt(\"return\", entity);\n\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nfunction fetchDefaultFilter() {\n  var entity, data;\n  return _regeneratorRuntime.wrap(function fetchDefaultFilter$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return getEntity();\n\n        case 2:\n          entity = _context2.sent;\n          _context2.next = 5;\n          return call(afApi.getInitDataForList, entity);\n\n        case 5:\n          data = _context2.sent;\n          _context2.next = 8;\n          return put(advancedFilterActions.setDefaultFilter(data.default_filter));\n\n        case 8:\n          _context2.next = 10;\n          return put(advancedFilterActions.setPermissions(data.permissions.advanced_filters));\n\n        case 10:\n          _context2.next = 12;\n          return put(advancedFilterActions.setSystemPreset(data.system_default_filter));\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction fetchFilterList() {\n  var filterType,\n      type,\n      entity,\n      _yield$call,\n      filter_preset_list,\n      _args3 = arguments;\n\n  return _regeneratorRuntime.wrap(function fetchFilterList$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          filterType = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : '';\n          type = filterType;\n\n          if (type) {\n            _context3.next = 5;\n            break;\n          }\n\n          return _context3.delegateYield(select(advancedFilterActions.selectFilterType), \"t0\", 4);\n\n        case 4:\n          type = _context3.t0;\n\n        case 5:\n          _context3.next = 7;\n          return getEntity();\n\n        case 7:\n          entity = _context3.sent;\n          _context3.next = 10;\n          return call(afApi.getList, {\n            entity: entity,\n            type: type\n          });\n\n        case 10:\n          _yield$call = _context3.sent;\n          filter_preset_list = _yield$call.filter_preset_list;\n          _context3.next = 14;\n          return put(advancedFilterActions.setFilterPresetList(filter_preset_list));\n\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}\n\nfunction fetchInitDataForCreateEdit() {\n  var entity, data;\n  return _regeneratorRuntime.wrap(function fetchInitDataForCreateEdit$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return getEntity();\n\n        case 2:\n          entity = _context4.sent;\n          _context4.next = 5;\n          return call(afApi.getInitDataForCE, entity);\n\n        case 5:\n          data = _context4.sent;\n          _context4.next = 8;\n          return put(advancedFilterActions.setInitData(data));\n\n        case 8:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction fetchFilterDetail(id) {\n  var _yield$call2, filter_preset, filterType;\n\n  return _regeneratorRuntime.wrap(function fetchFilterDetail$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return call(afApi.getDetail, id);\n\n        case 2:\n          _yield$call2 = _context5.sent;\n          filter_preset = _yield$call2.filter_preset;\n          return _context5.delegateYield(select(advancedFilterActions.selectFilterType), \"t0\", 5);\n\n        case 5:\n          filterType = _context5.t0;\n\n          if (filterType === 'shared') {\n            filter_preset.is_user_default = false;\n          }\n\n          _context5.next = 9;\n          return put(advancedFilterActions.setFilterDetail(filter_preset));\n\n        case 9:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}\n\nfunction open() {\n  var _yield$all, user, defaultFilter;\n\n  return _regeneratorRuntime.wrap(function open$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return put(advancedFilterActions.setOpenAdvanceSearch(true));\n\n        case 2:\n          _context6.next = 4;\n          return put(advancedFilterActions.setLoadingSection(true));\n\n        case 4:\n          _context6.prev = 4;\n          _context6.next = 7;\n          return all([call(fetchDefaultFilter), call(fetchFilterList), call(fetchInitDataForCreateEdit)]);\n\n        case 7:\n          return _context6.delegateYield(all({\n            user: select(authStore.selectProfile),\n            defaultFilter: select(advancedFilterActions.selectDefaultFilter)\n          }), \"t0\", 8);\n\n        case 8:\n          _yield$all = _context6.t0;\n          user = _yield$all.user;\n          defaultFilter = _yield$all.defaultFilter;\n\n          if (!(user.user_id === defaultFilter.created_by)) {\n            _context6.next = 14;\n            break;\n          }\n\n          _context6.next = 14;\n          return put(advancedFilterActions.setEditMode(true));\n\n        case 14:\n          _context6.next = 16;\n          return call(fetchFilterDetail, defaultFilter.id);\n\n        case 16:\n          _context6.next = 18;\n          return put(advancedFilterActions.setExpandedSection(true));\n\n        case 18:\n          _context6.next = 24;\n          break;\n\n        case 20:\n          _context6.prev = 20;\n          _context6.t1 = _context6[\"catch\"](4);\n          _context6.next = 24;\n          return errorSaga.handleError(_context6.t1);\n\n        case 24:\n          _context6.next = 26;\n          return put(advancedFilterActions.setLoadingSection(false));\n\n        case 26:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6, null, [[4, 20]]);\n}\n\nfunction changeFilterType(_ref) {\n  var filterType;\n  return _regeneratorRuntime.wrap(function changeFilterType$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          filterType = _ref.payload;\n          _context7.next = 3;\n          return put(advancedFilterActions.setLoadingTable(true));\n\n        case 3:\n          _context7.prev = 3;\n          _context7.next = 6;\n          return call(fetchFilterList, filterType);\n\n        case 6:\n          _context7.next = 8;\n          return put(advancedFilterActions.setFilterType(filterType));\n\n        case 8:\n          _context7.next = 14;\n          break;\n\n        case 10:\n          _context7.prev = 10;\n          _context7.t0 = _context7[\"catch\"](3);\n          _context7.next = 14;\n          return errorSaga.handleError(_context7.t0);\n\n        case 14:\n          _context7.next = 16;\n          return put(advancedFilterActions.setLoadingTable(false));\n\n        case 16:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[3, 10]]);\n}\n\nfunction getList() {\n  return _regeneratorRuntime.wrap(function getList$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context8.prev = 2;\n          _context8.next = 5;\n          return call(fetchFilterList);\n\n        case 5:\n          _context8.next = 11;\n          break;\n\n        case 7:\n          _context8.prev = 7;\n          _context8.t0 = _context8[\"catch\"](2);\n          _context8.next = 11;\n          return errorSaga.handleError(_context8.t0);\n\n        case 11:\n          _context8.next = 13;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 13:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8, null, [[2, 7]]);\n}\n\nfunction getDefaultFilter() {\n  return _regeneratorRuntime.wrap(function getDefaultFilter$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context9.prev = 2;\n          _context9.next = 5;\n          return call(fetchDefaultFilter);\n\n        case 5:\n          _context9.next = 11;\n          break;\n\n        case 7:\n          _context9.prev = 7;\n          _context9.t0 = _context9[\"catch\"](2);\n          _context9.next = 11;\n          return errorSaga.handleError(_context9.t0);\n\n        case 11:\n          _context9.next = 13;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 13:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9, null, [[2, 7]]);\n}\n\nfunction create() {\n  var _yield$select, id, created_at, created_by, updated_at, updated_by, is_system_default, filterDetail, data, userInfo, _error$response, _data, status, _error;\n\n  return _regeneratorRuntime.wrap(function create$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context10.prev = 2;\n          _context10.next = 5;\n          return select(advancedFilterActions.selectFilterDetail);\n\n        case 5:\n          _yield$select = _context10.sent;\n          id = _yield$select.id;\n          created_at = _yield$select.created_at;\n          created_by = _yield$select.created_by;\n          updated_at = _yield$select.updated_at;\n          updated_by = _yield$select.updated_by;\n          is_system_default = _yield$select.is_system_default;\n          filterDetail = _objectWithoutProperties(_yield$select, [\"id\", \"created_at\", \"created_by\", \"updated_at\", \"updated_by\", \"is_system_default\"]);\n          _context10.next = 15;\n          return call(afApi.create, filterDetail);\n\n        case 15:\n          data = _context10.sent;\n          _context10.next = 18;\n          return all([call(fetchDefaultFilter), call(fetchFilterList)]);\n\n        case 18:\n          _context10.next = 20;\n          return select(authStore.selectProfile);\n\n        case 20:\n          userInfo = _context10.sent;\n          _context10.next = 23;\n          return put(advancedFilterActions.setEditMode(true));\n\n        case 23:\n          _context10.next = 25;\n          return put(advancedFilterActions.setFilterDetail({\n            id: data.id,\n            created_by: userInfo.user_id,\n            is_system_default: false\n          }));\n\n        case 25:\n          _context10.next = 27;\n          return put(commonStore.actions.setSuccessMessage(data.message));\n\n        case 27:\n          _context10.next = 29;\n          return put(advancedFilterActions.setAfForm({\n            clearError: true,\n            error: ''\n          }));\n\n        case 29:\n          _context10.next = 42;\n          break;\n\n        case 31:\n          _context10.prev = 31;\n          _context10.t0 = _context10[\"catch\"](2);\n          _error$response = _context10.t0.response, _data = _error$response.data, status = _error$response.status;\n\n          if (!(status === StatusCode.BAD_REQUEST)) {\n            _context10.next = 40;\n            break;\n          }\n\n          _error = _data.message;\n          _context10.next = 38;\n          return put(advancedFilterActions.setAfForm({\n            error: _error\n          }));\n\n        case 38:\n          _context10.next = 42;\n          break;\n\n        case 40:\n          _context10.next = 42;\n          return errorSaga.handleError(_context10.t0);\n\n        case 42:\n          _context10.next = 44;\n          return put(advancedFilterActions.setAfForm({\n            clearError: false,\n            error: ''\n          }));\n\n        case 44:\n          _context10.next = 46;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 46:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10, null, [[2, 31]]);\n}\n\nfunction update() {\n  var _yield$select2, id, created_at, created_by, updated_at, updated_by, is_system_default, filterDetail, _yield$call3, message, _error$response2, data, status, _error2;\n\n  return _regeneratorRuntime.wrap(function update$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context11.prev = 2;\n          _context11.next = 5;\n          return select(advancedFilterActions.selectFilterDetail);\n\n        case 5:\n          _yield$select2 = _context11.sent;\n          id = _yield$select2.id;\n          created_at = _yield$select2.created_at;\n          created_by = _yield$select2.created_by;\n          updated_at = _yield$select2.updated_at;\n          updated_by = _yield$select2.updated_by;\n          is_system_default = _yield$select2.is_system_default;\n          filterDetail = _objectWithoutProperties(_yield$select2, [\"id\", \"created_at\", \"created_by\", \"updated_at\", \"updated_by\", \"is_system_default\"]);\n          _context11.next = 15;\n          return call(afApi.update, id, filterDetail);\n\n        case 15:\n          _yield$call3 = _context11.sent;\n          message = _yield$call3.message;\n          _context11.next = 19;\n          return all([call(fetchDefaultFilter), call(fetchFilterList)]);\n\n        case 19:\n          _context11.next = 21;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 21:\n          _context11.next = 23;\n          return put(advancedFilterActions.setAfForm({\n            clearError: true,\n            error: ''\n          }));\n\n        case 23:\n          _context11.next = 36;\n          break;\n\n        case 25:\n          _context11.prev = 25;\n          _context11.t0 = _context11[\"catch\"](2);\n          _error$response2 = _context11.t0.response, data = _error$response2.data, status = _error$response2.status;\n\n          if (!(status === StatusCode.BAD_REQUEST)) {\n            _context11.next = 34;\n            break;\n          }\n\n          _error2 = data.message;\n          _context11.next = 32;\n          return put(advancedFilterActions.setAfForm({\n            error: _error2\n          }));\n\n        case 32:\n          _context11.next = 36;\n          break;\n\n        case 34:\n          _context11.next = 36;\n          return errorSaga.handleError(_context11.t0);\n\n        case 36:\n          _context11.next = 38;\n          return put(advancedFilterActions.setAfForm({\n            clearError: false,\n            error: ''\n          }));\n\n        case 38:\n          _context11.next = 40;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 40:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11, null, [[2, 25]]);\n}\n\nfunction share(_ref2) {\n  var payload, id, is_shared, _yield$call4, message;\n\n  return _regeneratorRuntime.wrap(function share$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          payload = _ref2.payload;\n          _context12.next = 3;\n          return put(advancedFilterActions.setLoadingTable(true));\n\n        case 3:\n          _context12.prev = 3;\n          id = payload.id, is_shared = payload.is_shared;\n          _context12.next = 7;\n          return call(afApi.share, id, is_shared);\n\n        case 7:\n          _yield$call4 = _context12.sent;\n          message = _yield$call4.message;\n          _context12.next = 11;\n          return call(fetchFilterList);\n\n        case 11:\n          _context12.next = 13;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 13:\n          _context12.next = 19;\n          break;\n\n        case 15:\n          _context12.prev = 15;\n          _context12.t0 = _context12[\"catch\"](3);\n          _context12.next = 19;\n          return errorSaga.handleError(_context12.t0);\n\n        case 19:\n          _context12.next = 21;\n          return put(advancedFilterActions.setLoadingTable(false));\n\n        case 21:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12, null, [[3, 15]]);\n}\n\nfunction getDetail(_ref3) {\n  var id;\n  return _regeneratorRuntime.wrap(function getDetail$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          id = _ref3.payload;\n          _context13.next = 3;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 3:\n          _context13.prev = 3;\n          _context13.next = 6;\n          return all([call(fetchInitDataForCreateEdit), call(fetchFilterDetail, id)]);\n\n        case 6:\n          _context13.next = 8;\n          return put(advancedFilterActions.setEditMode(true));\n\n        case 8:\n          _context13.next = 14;\n          break;\n\n        case 10:\n          _context13.prev = 10;\n          _context13.t0 = _context13[\"catch\"](3);\n          _context13.next = 14;\n          return errorSaga.handleError(_context13.t0);\n\n        case 14:\n          _context13.next = 16;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 16:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked13, null, [[3, 10]]);\n}\n\nfunction remove() {\n  var _yield$select3, id, _yield$call5, message, defaultFilter;\n\n  return _regeneratorRuntime.wrap(function remove$(_context14) {\n    while (1) {\n      switch (_context14.prev = _context14.next) {\n        case 0:\n          _context14.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context14.prev = 2;\n          _context14.next = 5;\n          return select(advancedFilterActions.selectFilterDetail);\n\n        case 5:\n          _yield$select3 = _context14.sent;\n          id = _yield$select3.id;\n          _context14.next = 9;\n          return call(afApi.remove, id);\n\n        case 9:\n          _yield$call5 = _context14.sent;\n          message = _yield$call5.message;\n          _context14.next = 13;\n          return all([call(fetchDefaultFilter), call(fetchFilterList)]);\n\n        case 13:\n          _context14.next = 15;\n          return select(advancedFilterActions.selectDefaultFilter);\n\n        case 15:\n          defaultFilter = _context14.sent;\n          _context14.next = 18;\n          return call(fetchFilterDetail, defaultFilter.id);\n\n        case 18:\n          _context14.next = 20;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 20:\n          _context14.next = 26;\n          break;\n\n        case 22:\n          _context14.prev = 22;\n          _context14.t0 = _context14[\"catch\"](2);\n          _context14.next = 26;\n          return errorSaga.handleError(_context14.t0);\n\n        case 26:\n          _context14.next = 28;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 28:\n        case \"end\":\n          return _context14.stop();\n      }\n    }\n  }, _marked14, null, [[2, 22]]);\n}\n\nfunction clearDefaultFilter() {\n  var entity, _yield$call6, message, filterDefault;\n\n  return _regeneratorRuntime.wrap(function clearDefaultFilter$(_context15) {\n    while (1) {\n      switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.next = 2;\n          return put(commonStore.actions.setLoadingPage(true));\n\n        case 2:\n          _context15.prev = 2;\n          _context15.next = 5;\n          return getEntity();\n\n        case 5:\n          entity = _context15.sent;\n          _context15.next = 8;\n          return call(afApi.clearDefault, entity);\n\n        case 8:\n          _yield$call6 = _context15.sent;\n          message = _yield$call6.message;\n          _context15.next = 12;\n          return call(fetchDefaultFilter);\n\n        case 12:\n          _context15.next = 14;\n          return select(advancedFilterActions.selectDefaultFilter);\n\n        case 14:\n          filterDefault = _context15.sent;\n          _context15.next = 17;\n          return put(advancedFilterActions.setFilterDetail(filterDefault));\n\n        case 17:\n          _context15.next = 19;\n          return put(commonStore.actions.setSuccessMessage(message));\n\n        case 19:\n          _context15.next = 25;\n          break;\n\n        case 21:\n          _context15.prev = 21;\n          _context15.t0 = _context15[\"catch\"](2);\n          _context15.next = 25;\n          return errorSaga.handleError(_context15.t0);\n\n        case 25:\n          _context15.next = 27;\n          return put(commonStore.actions.setLoadingPage(false));\n\n        case 27:\n        case \"end\":\n          return _context15.stop();\n      }\n    }\n  }, _marked15, null, [[2, 21]]);\n}\n\nfunction saveAs(_ref4) {\n  var name, _yield$select4, id, created_at, created_by, updated_at, updated_by, is_system_default, filterDetail, copyFilterDetail, data, userInfo, _error$response3, _data2, status, _error3;\n\n  return _regeneratorRuntime.wrap(function saveAs$(_context16) {\n    while (1) {\n      switch (_context16.prev = _context16.next) {\n        case 0:\n          name = _ref4.payload;\n          _context16.next = 3;\n          return put(advancedFilterActions.setLoadingDialog(true));\n\n        case 3:\n          _context16.prev = 3;\n          _context16.next = 6;\n          return select(advancedFilterActions.selectFilterDetail);\n\n        case 6:\n          _yield$select4 = _context16.sent;\n          id = _yield$select4.id;\n          created_at = _yield$select4.created_at;\n          created_by = _yield$select4.created_by;\n          updated_at = _yield$select4.updated_at;\n          updated_by = _yield$select4.updated_by;\n          is_system_default = _yield$select4.is_system_default;\n          filterDetail = _objectWithoutProperties(_yield$select4, [\"id\", \"created_at\", \"created_by\", \"updated_at\", \"updated_by\", \"is_system_default\"]);\n          copyFilterDetail = _objectSpread(_objectSpread({}, filterDetail), {}, {\n            name: name\n          });\n          _context16.next = 17;\n          return call(afApi.create, copyFilterDetail);\n\n        case 17:\n          data = _context16.sent;\n          _context16.next = 20;\n          return all([call(fetchDefaultFilter), call(fetchFilterList)]);\n\n        case 20:\n          _context16.next = 22;\n          return select(authStore.selectProfile);\n\n        case 22:\n          userInfo = _context16.sent;\n          _context16.next = 25;\n          return put(advancedFilterActions.setEditMode(true));\n\n        case 25:\n          _context16.next = 27;\n          return put(advancedFilterActions.setFilterDetail({\n            id: data.id,\n            created_by: userInfo.user_id,\n            is_system_default: false,\n            name: name\n          }));\n\n        case 27:\n          _context16.next = 29;\n          return put(commonStore.actions.setSuccessMessage(data.message));\n\n        case 29:\n          _context16.next = 31;\n          return put(advancedFilterActions.setSaveAsForm({\n            open: false,\n            clearError: true,\n            error: ''\n          }));\n\n        case 31:\n          _context16.next = 44;\n          break;\n\n        case 33:\n          _context16.prev = 33;\n          _context16.t0 = _context16[\"catch\"](3);\n          _error$response3 = _context16.t0.response, _data2 = _error$response3.data, status = _error$response3.status;\n\n          if (!(status === StatusCode.BAD_REQUEST)) {\n            _context16.next = 42;\n            break;\n          }\n\n          _error3 = _data2.message;\n          _context16.next = 40;\n          return put(advancedFilterActions.setSaveAsForm({\n            error: _error3\n          }));\n\n        case 40:\n          _context16.next = 44;\n          break;\n\n        case 42:\n          _context16.next = 44;\n          return errorSaga.handleError(_context16.t0);\n\n        case 44:\n          _context16.next = 46;\n          return put(advancedFilterActions.setSaveAsForm({\n            clearError: false,\n            error: ''\n          }));\n\n        case 46:\n          _context16.next = 48;\n          return put(advancedFilterActions.setLoadingDialog(false));\n\n        case 48:\n        case \"end\":\n          return _context16.stop();\n      }\n    }\n  }, _marked16, null, [[3, 33]]);\n}\n\nfunction apply() {\n  var entity, getListAction;\n  return _regeneratorRuntime.wrap(function apply$(_context17) {\n    while (1) {\n      switch (_context17.prev = _context17.next) {\n        case 0:\n          return _context17.delegateYield(getEntity(), \"t0\", 1);\n\n        case 1:\n          entity = _context17.t0;\n\n          if (entity === 'manufacturing_standard' || entity === 'material_standard') {\n            entity = 'equivalence';\n          }\n\n          getListAction = createAction(\"\".concat(entity, \"/\").concat(actionTypes.GET_LIST));\n          _context17.next = 6;\n          return put(commonStore.actions.setTableState({\n            page: 1\n          }));\n\n        case 6:\n          _context17.next = 8;\n          return put(getListAction());\n\n        case 8:\n          _context17.next = 10;\n          return put(commonStore.actions.setSuccessMessage('The filter preset is applied successfully! This result is temporary'));\n\n        case 10:\n        case \"end\":\n          return _context17.stop();\n      }\n    }\n  }, _marked17);\n}\n\nfunction close() {\n  var entity, getListAction;\n  return _regeneratorRuntime.wrap(function close$(_context18) {\n    while (1) {\n      switch (_context18.prev = _context18.next) {\n        case 0:\n          return _context18.delegateYield(getEntity(), \"t0\", 1);\n\n        case 1:\n          entity = _context18.t0;\n\n          if (entity === 'manufacturing_standard' || entity === 'material_standard') {\n            entity = 'equivalence';\n          }\n\n          getListAction = createAction(\"\".concat(entity, \"/\").concat(actionTypes.GET_LIST));\n          _context18.next = 6;\n          return put(getListAction());\n\n        case 6:\n        case \"end\":\n          return _context18.stop();\n      }\n    }\n  }, _marked18);\n}\n\nfunction advancedFilterSaga() {\n  return _regeneratorRuntime.wrap(function advancedFilterSaga$(_context19) {\n    while (1) {\n      switch (_context19.prev = _context19.next) {\n        case 0:\n          _context19.next = 2;\n          return takeEvery(advancedFilterActions.getList, getList);\n\n        case 2:\n          _context19.next = 4;\n          return takeEvery(advancedFilterActions.create, create);\n\n        case 4:\n          _context19.next = 6;\n          return takeEvery(advancedFilterActions.update, update);\n\n        case 6:\n          _context19.next = 8;\n          return takeEvery(advancedFilterActions.getDetail, getDetail);\n\n        case 8:\n          _context19.next = 10;\n          return takeEvery(advancedFilterActions.share, share);\n\n        case 10:\n          _context19.next = 12;\n          return takeLatest(advancedFilterActions.remove, remove);\n\n        case 12:\n          _context19.next = 14;\n          return takeLatest(advancedFilterActions.clearDefaultFilter, clearDefaultFilter);\n\n        case 14:\n          _context19.next = 16;\n          return takeEvery(advancedFilterActions.getDefaultFilter, getDefaultFilter);\n\n        case 16:\n          _context19.next = 18;\n          return takeEvery(advancedFilterActions.changeFilterType, changeFilterType);\n\n        case 18:\n          _context19.next = 20;\n          return takeEvery(advancedFilterActions.saveAs, saveAs);\n\n        case 20:\n          _context19.next = 22;\n          return takeEvery(advancedFilterActions.open, open);\n\n        case 22:\n          _context19.next = 24;\n          return takeEvery(advancedFilterActions.apply, apply);\n\n        case 24:\n          _context19.next = 26;\n          return takeEvery(advancedFilterActions.close, close);\n\n        case 26:\n        case \"end\":\n          return _context19.stop();\n      }\n    }\n  }, _marked19);\n}\n\nexport default advancedFilterSaga;","map":null,"metadata":{},"sourceType":"module"}