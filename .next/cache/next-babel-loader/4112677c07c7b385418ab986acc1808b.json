{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\App\\\\SearchBar\\\\index.tsx\";\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useStyles from './styles';\nimport { Paper, IconButton, InputBase, Tooltip } from '@material-ui/core';\nimport { When } from 'react-if';\nimport { useConfirm, SearchIcon, FilterIcon } from '@/components';\nimport clsx from 'clsx';\nimport { commonStore, advancedFilterActions } from '@/store/reducers';\n\nconst AppSearchBar = props => {\n  const {\n    placeholder,\n    width,\n    onSearch,\n    filterable,\n    disabled\n  } = props;\n  const {\n    confirm\n  } = useConfirm();\n  const {\n    0: searchQuery,\n    1: setSearchQuery\n  } = useState('');\n  const dispatch = useDispatch();\n  const isOpenAF = useSelector(advancedFilterActions.selectOpenAdvanceSearch);\n  const classes = useStyles();\n\n  const handleInputQuery = event => {\n    setSearchQuery(event.target.value);\n  };\n\n  const handleSubmitSearch = async event => {\n    event.preventDefault();\n\n    if (searchQuery.length < 3) {\n      const result = await confirm({\n        description: 'Searching with less than 3 digits will be slow, do you want to continue?'\n      });\n\n      if (result === 'OK') {\n        onSearch(event, searchQuery);\n      }\n    } else {\n      onSearch(event, searchQuery);\n    }\n  };\n\n  const onOpenAdvancedFilter = () => {\n    if (disabled) {\n      return;\n    }\n\n    if (isOpenAF) {\n      dispatch(advancedFilterActions.resetState());\n      dispatch(commonStore.actions.setTableState({\n        page: 1\n      }));\n      dispatch(advancedFilterActions.close());\n    } else {\n      dispatch(advancedFilterActions.open());\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.searchBar__container,\n    \"data-testid\": \"app-searchbar\",\n    children: [/*#__PURE__*/_jsxDEV(When, {\n      condition: filterable,\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: isOpenAF ? 'Close Advanced Filter' : 'Open Advanced Filter',\n        \"aria-label\": \"Advanced_Filter\",\n        children: /*#__PURE__*/_jsxDEV(FilterIcon, {\n          onClick: onOpenAdvancedFilter,\n          className: clsx(classes.searchBar__filterIcon, {\n            [classes.searchBar__disabled]: disabled\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      component: \"form\",\n      elevation: 0,\n      className: classes.searchBar__form,\n      style: {\n        width\n      },\n      onSubmit: handleSubmitSearch,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        type: \"submit\",\n        className: classes.searchBar__searchIcon,\n        \"aria-label\": \"search\",\n        disabled: disabled,\n        children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        disabled: disabled,\n        className: classes.searchBar__input,\n        placeholder: placeholder,\n        value: searchQuery,\n        onChange: handleInputQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\nAppSearchBar.defaultProps = {\n  filterable: true,\n  width: 300,\n  placeholder: 'Search...',\n  disabled: false\n};\nexport default AppSearchBar;","map":{"version":3,"sources":["D:/TTS_Reactjs/malis-3-frontend/src/components/App/SearchBar/index.tsx"],"names":["useState","useDispatch","useSelector","useStyles","Paper","IconButton","InputBase","Tooltip","When","useConfirm","SearchIcon","FilterIcon","clsx","commonStore","advancedFilterActions","AppSearchBar","props","placeholder","width","onSearch","filterable","disabled","confirm","searchQuery","setSearchQuery","dispatch","isOpenAF","selectOpenAdvanceSearch","classes","handleInputQuery","event","target","value","handleSubmitSearch","preventDefault","length","result","description","onOpenAdvancedFilter","resetState","actions","setTableState","page","close","open","searchBar__container","searchBar__filterIcon","searchBar__disabled","searchBar__form","searchBar__searchIcon","searchBar__input","defaultProps"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport useStyles from './styles'\n\nimport { Paper, IconButton, InputBase, Tooltip } from '@material-ui/core'\nimport { When } from 'react-if'\n\nimport { useConfirm, SearchIcon, FilterIcon } from '@/components'\n\nimport clsx from 'clsx'\nimport { commonStore, advancedFilterActions } from '@/store/reducers'\n\nexport type AppSearchBarProps = {\n  placeholder?: string\n  width?: number\n  onSearch(event, query): void\n  filterable?: boolean\n  disabled?: boolean\n}\n\nconst AppSearchBar: React.FC<AppSearchBarProps> = (props) => {\n  const { placeholder, width, onSearch, filterable, disabled } = props\n\n  const { confirm } = useConfirm()\n\n  const [searchQuery, setSearchQuery] = useState('')\n\n  const dispatch = useDispatch()\n  const isOpenAF = useSelector(advancedFilterActions.selectOpenAdvanceSearch)\n\n  const classes = useStyles()\n\n  const handleInputQuery = (event) => {\n    setSearchQuery(event.target.value)\n  }\n\n  const handleSubmitSearch = async (event) => {\n    event.preventDefault()\n    if (searchQuery.length < 3) {\n      const result = await confirm({\n        description: 'Searching with less than 3 digits will be slow, do you want to continue?'\n      })\n      if (result === 'OK') {\n        onSearch(event, searchQuery)\n      }\n    } else {\n      onSearch(event, searchQuery)\n    }\n  }\n\n  const onOpenAdvancedFilter = () => {\n    if (disabled) {\n      return\n    }\n    if (isOpenAF) {\n      dispatch(advancedFilterActions.resetState())\n      dispatch(commonStore.actions.setTableState({ page: 1 }))\n      dispatch(advancedFilterActions.close())\n    } else {\n      dispatch(advancedFilterActions.open())\n    }\n  }\n\n  return (\n    <div className={classes.searchBar__container} data-testid=\"app-searchbar\">\n      <When condition={filterable}>\n        <Tooltip title={isOpenAF ? 'Close Advanced Filter' : 'Open Advanced Filter'} aria-label=\"Advanced_Filter\">\n          <FilterIcon\n            onClick={onOpenAdvancedFilter}\n            className={clsx(classes.searchBar__filterIcon, {\n              [classes.searchBar__disabled]: disabled\n            })}\n          />\n        </Tooltip>\n      </When>\n      <Paper\n        component=\"form\"\n        elevation={0}\n        className={classes.searchBar__form}\n        style={{ width }}\n        onSubmit={handleSubmitSearch}\n      >\n        <IconButton type=\"submit\" className={classes.searchBar__searchIcon} aria-label=\"search\" disabled={disabled}>\n          <SearchIcon />\n        </IconButton>\n        <InputBase\n          disabled={disabled}\n          className={classes.searchBar__input}\n          placeholder={placeholder}\n          value={searchQuery}\n          onChange={handleInputQuery}\n        />\n      </Paper>\n    </div>\n  )\n}\n\nAppSearchBar.defaultProps = {\n  filterable: true,\n  width: 300,\n  placeholder: 'Search...',\n  disabled: false\n}\n\nexport default AppSearchBar\n"]},"metadata":{},"sourceType":"module"}