{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\TTS_Reactjs\\\\malis-3-frontend\\\\src\\\\components\\\\Dialog\\\\Module\\\\User\\\\TabGroups.tsx\";\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { userStore } from '@/store/reducers';\nimport { useFormContext } from 'react-hook-form';\nimport { Paper } from '@material-ui/core';\nimport { DataTable } from '@/components';\nimport _ from 'lodash';\n\nfunction TabUserGroup() {\n  const userForm = useFormContext();\n  const watchGroup = userForm.watch('groups', []);\n  const userDetail = useSelector(userStore.selectDetail);\n  const {\n    groups\n  } = useSelector(userStore.selectInitDataForCE);\n\n  const isCreating = _.isNil(userDetail.id);\n\n  const filterRow = useMemo(() => {\n    return groups.filter(g => g.status === true || (userDetail === null || userDetail === void 0 ? void 0 : userDetail.groups.includes(g.id)));\n  }, [groups, userDetail]);\n\n  const onSelectGroups = ({\n    selectionModel\n  }) => {\n    userForm.setValue('groups', selectionModel);\n  };\n\n  const columns = useMemo(() => [{\n    field: 'group_id',\n    headerName: 'Group #',\n    width: 100,\n    sortable: false,\n    disableColumnMenu: true,\n    renderCell: param => {\n      if (param.row.status) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: param.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 20\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: param.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 18\n      }, this);\n    }\n  }, {\n    field: 'name',\n    headerName: 'Group name',\n    sortable: false,\n    disableColumnMenu: true,\n    flex: 1,\n    renderCell: param => {\n      if (param.row.status) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: param.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 20\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: param.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 18\n      }, this);\n    }\n  }], []);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 2,\n    children: /*#__PURE__*/_jsxDEV(DataTable, {\n      checkboxSelection: true,\n      tableHeight: isCreating ? 475 : 450,\n      rows: filterRow,\n      columns: columns,\n      headerHeight: 30,\n      rowHeight: 30,\n      hideFooter: true,\n      selectionModel: watchGroup,\n      onSelectionModelChange: onSelectGroups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\nexport default TabUserGroup;","map":{"version":3,"sources":["D:/TTS_Reactjs/malis-3-frontend/src/components/Dialog/Module/User/TabGroups.tsx"],"names":["useMemo","useSelector","userStore","useFormContext","Paper","DataTable","_","TabUserGroup","userForm","watchGroup","watch","userDetail","selectDetail","groups","selectInitDataForCE","isCreating","isNil","id","filterRow","filter","g","status","includes","onSelectGroups","selectionModel","setValue","columns","field","headerName","width","sortable","disableColumnMenu","renderCell","param","row","value","color","flex"],"mappings":"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","sourcesContent":["import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { userStore } from '@/store/reducers'\nimport { useFormContext } from 'react-hook-form'\n\nimport { Paper } from '@material-ui/core'\nimport { DataTable } from '@/components'\n\nimport _ from 'lodash'\n\nimport type { GridColumns } from '@material-ui/data-grid'\nimport type { UserDetail } from '@/types/User'\n\nfunction TabUserGroup() {\n  const userForm = useFormContext<UserDetail>()\n  const watchGroup = userForm.watch('groups', [])\n\n  const userDetail = useSelector(userStore.selectDetail)\n  const { groups } = useSelector(userStore.selectInitDataForCE)\n\n  const isCreating = _.isNil(userDetail.id)\n\n  const filterRow = useMemo(() => {\n    return groups.filter((g) => g.status === true || userDetail?.groups.includes(g.id))\n  }, [groups, userDetail])\n\n  const onSelectGroups = ({ selectionModel }) => {\n    userForm.setValue('groups', selectionModel)\n  }\n\n  const columns = useMemo<GridColumns>(\n    () => [\n      {\n        field: 'group_id',\n        headerName: 'Group #',\n        width: 100,\n        sortable: false,\n        disableColumnMenu: true,\n        renderCell: (param) => {\n          if (param.row.status) {\n            return <span>{param.value}</span>\n          }\n          return <span style={{ color: 'red' }}>{param.value}</span>\n        }\n      },\n      {\n        field: 'name',\n        headerName: 'Group name',\n        sortable: false,\n        disableColumnMenu: true,\n        flex: 1,\n        renderCell: (param) => {\n          if (param.row.status) {\n            return <span>{param.value}</span>\n          }\n          return <span style={{ color: 'red' }}>{param.value}</span>\n        }\n      }\n    ],\n    []\n  )\n\n  return (\n    <Paper elevation={2}>\n      <DataTable\n        checkboxSelection\n        tableHeight={isCreating ? 475 : 450}\n        rows={filterRow}\n        columns={columns}\n        headerHeight={30}\n        rowHeight={30}\n        hideFooter\n        selectionModel={watchGroup}\n        onSelectionModelChange={onSelectGroups}\n      />\n    </Paper>\n  )\n}\n\nexport default TabUserGroup\n"]},"metadata":{},"sourceType":"module"}