{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{b804:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return h}));var a=n(\"nKUr\"),i=n(\"q1tI\"),r=n(\"g4pe\"),l=n.n(r),o=n(\"R/WZ\"),s=n(\"tRbT\"),c=n(\"Nhdc\"),u=n(\"/MKj\"),b=n(\"NKCw\"),d=n(\"LvDl\"),p=n.n(d),g=n(\"+ore\"),j=n(\"UGp+\"),m=n(\"KZYA\"),f=Object(o.a)({dialog:{position:\"relative !important\",height:\"calc(100vh - 90px) !important\"}}),h=!0;t.default=function(){var e=f(),t=Object(u.b)(),n=Object(u.c)(g.c.selectSettings),r=n.initData,o=n.detail,d=Object(b.e)({shouldUnregister:!1,resolver:Object(m.a)(j.f({home_page:j.e().nullable().required(\"Home page is required!\"),default_language:j.e().nullable().required(\"Default language is required!\")}))}),h=d.watch(\"time_zone\",\"\");Object(i.useEffect)((function(){t(g.c.sagaGetSettings())}),[]),Object(i.useEffect)((function(){d.reset(o)}),[o]);var O=d.handleSubmit((function(e){var n=p.a.pick(e,[\"home_page\",\"default_language\",\"time_zone\"]);t(g.c.sagaSaveSettings(n))}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{children:Object(a.jsx)(\"title\",{children:\"Settings Management\"})}),Object(a.jsx)(c.f,{items:[{label:\"Home\",href:\"/\"},{label:\"User Settings\",href:\"/settings\"}]}),Object(a.jsx)(c.W,{open:!0,title:\"Settings\",hideBackdrop:!0,height:350,draggable:!1,PaperProps:{elevation:2},hideCloseButton:!0,okText:\"Save\",onOk:O,className:e.dialog,children:Object(a.jsxs)(s.a,{container:!0,spacing:2,style:{marginTop:8},children:[Object(a.jsx)(s.a,{item:!0,xs:12,children:Object(a.jsx)(c.wb,{disableClearable:!0,name:\"home_page\",control:d.control,options:r.parameters.PAGES,label:\"Set default home-screen\",renderOption:function(e){return e.description},primaryKeyOption:\"value\"})}),Object(a.jsx)(s.a,{item:!0,xs:12,children:Object(a.jsx)(c.wb,{disableClearable:!0,name:\"default_language\",control:d.control,options:r.parameters.PLLA,label:\"Default Language\",renderOption:function(e){return e.description},primaryKeyOption:\"value\"})}),Object(a.jsx)(s.a,{item:!0,xs:12,children:Object(a.jsx)(c.b,{disableClearable:!0,disabled:!0,options:r.timezones,label:\"Time Zone\",renderOption:function(e){return e.description},primaryKeyOption:\"value\",value:function(){var e=d.getValues().time_zone;return 0===p.a.size(e)?null:p.a.find(r.timezones,{value:h})}()})})]})})]})}},rrX4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/settings\",function(){return n(\"b804\")}])}},[[\"rrX4\",0,1,4,9,10,8,7,2,3,5,6]]]);","map":{"version":3,"sources":["static/chunks/pages/settings-bcc864e4c4b04b526ebe.js"],"names":["_N_E","window","push","b804","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","next_head__WEBPACK_IMPORTED_MODULE_2__","next_head__WEBPACK_IMPORTED_MODULE_2___default","n","_material_ui_core__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core__WEBPACK_IMPORTED_MODULE_4__","_components__WEBPACK_IMPORTED_MODULE_5__","react_redux__WEBPACK_IMPORTED_MODULE_6__","react_hook_form__WEBPACK_IMPORTED_MODULE_7__","lodash__WEBPACK_IMPORTED_MODULE_8__","lodash__WEBPACK_IMPORTED_MODULE_8___default","_store_reducers__WEBPACK_IMPORTED_MODULE_9__","yup__WEBPACK_IMPORTED_MODULE_10__","_hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_11__","useStyles","Object","dialog","position","height","classes","dispatch","_useSelector","selectSettings","initData","settingDetail","detail","settingForm","shouldUnregister","resolver","home_page","nullable","required","default_language","watchTimezone","watch","sagaGetSettings","reset","handleSaveSettings","handleSubmit","formData","payload","a","pick","sagaSaveSettings","children","items","label","href","open","title","hideBackdrop","draggable","PaperProps","elevation","hideCloseButton","okText","onOk","className","container","spacing","style","marginTop","item","xs","disableClearable","name","control","options","parameters","PAGES","renderOption","option","description","primaryKeyOption","PLLA","disabled","timezones","value","time_zone","getValues","size","find","getTimezone","rrX4","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/settings-bcc864e4c4b04b526ebe.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[32],{\n\n/***/ \"b804\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"R/WZ\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"tRbT\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"Nhdc\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"NKCw\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _store_reducers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"+ore\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"UGp+\");\n/* harmony import */ var _hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"KZYA\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar useStyles = Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])({\n  dialog: {\n    position: 'relative !important',\n    height: 'calc(100vh - 90px) !important'\n  }\n});\n\nvar SettingPage = function SettingPage() {\n  var classes = useStyles();\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__[/* useDispatch */ \"b\"])();\n\n  var _useSelector = Object(react_redux__WEBPACK_IMPORTED_MODULE_6__[/* useSelector */ \"c\"])(_store_reducers__WEBPACK_IMPORTED_MODULE_9__[/* authStore */ \"c\"].selectSettings),\n      initData = _useSelector.initData,\n      settingDetail = _useSelector.detail;\n\n  var settingForm = Object(react_hook_form__WEBPACK_IMPORTED_MODULE_7__[/* useForm */ \"e\"])({\n    shouldUnregister: false,\n    resolver: Object(_hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_11__[/* yupResolver */ \"a\"])(yup__WEBPACK_IMPORTED_MODULE_10__[/* object */ \"f\"]({\n      home_page: yup__WEBPACK_IMPORTED_MODULE_10__[/* number */ \"e\"]().nullable().required('Home page is required!'),\n      default_language: yup__WEBPACK_IMPORTED_MODULE_10__[/* number */ \"e\"]().nullable().required('Default language is required!')\n    }))\n  });\n  var watchTimezone = settingForm.watch('time_zone', '');\n\n  var getTimezone = function getTimezone() {\n    var _settingForm$getValue = settingForm.getValues(),\n        time_zone = _settingForm$getValue.time_zone;\n\n    if (lodash__WEBPACK_IMPORTED_MODULE_8___default.a.size(time_zone) === 0) {\n      return null;\n    }\n\n    return lodash__WEBPACK_IMPORTED_MODULE_8___default.a.find(initData.timezones, {\n      value: watchTimezone\n    });\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    dispatch(_store_reducers__WEBPACK_IMPORTED_MODULE_9__[/* authStore */ \"c\"].sagaGetSettings());\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    settingForm.reset(settingDetail);\n  }, [settingDetail]);\n  var handleSaveSettings = settingForm.handleSubmit(function (formData) {\n    var payload = lodash__WEBPACK_IMPORTED_MODULE_8___default.a.pick(formData, ['home_page', 'default_language', 'time_zone']);\n\n    dispatch(_store_reducers__WEBPACK_IMPORTED_MODULE_9__[/* authStore */ \"c\"].sagaSaveSettings(payload));\n  });\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_2___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"title\", {\n        children: \"Settings Management\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_5__[/* AppBreadcrumb */ \"f\"], {\n      items: [{\n        label: 'Home',\n        href: '/'\n      }, {\n        label: 'User Settings',\n        href: '/settings'\n      }]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_5__[/* DialogMain */ \"W\"], {\n      open: true,\n      title: \"Settings\",\n      hideBackdrop: true,\n      height: 350,\n      draggable: false,\n      PaperProps: {\n        elevation: 2\n      },\n      hideCloseButton: true,\n      okText: \"Save\",\n      onOk: handleSaveSettings,\n      className: classes.dialog,\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n        container: true,\n        spacing: 2,\n        style: {\n          marginTop: 8\n        },\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_5__[/* FormControllerAutocomplete */ \"wb\"], {\n            disableClearable: true,\n            name: \"home_page\",\n            control: settingForm.control,\n            options: initData.parameters.PAGES,\n            label: \"Set default home-screen\",\n            renderOption: function renderOption(option) {\n              return option.description;\n            },\n            primaryKeyOption: \"value\"\n          })\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_5__[/* FormControllerAutocomplete */ \"wb\"], {\n            disableClearable: true,\n            name: \"default_language\",\n            control: settingForm.control,\n            options: initData.parameters.PLLA,\n            label: \"Default Language\",\n            renderOption: function renderOption(option) {\n              return option.description;\n            },\n            primaryKeyOption: \"value\"\n          })\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_5__[/* AppAutocomplete */ \"b\"], {\n            disableClearable: true,\n            disabled: true,\n            options: initData.timezones,\n            label: \"Time Zone\",\n            renderOption: function renderOption(option) {\n              return option.description;\n            },\n            primaryKeyOption: \"value\",\n            value: getTimezone()\n          })\n        })]\n      })\n    })]\n  });\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (SettingPage);\n\n/***/ }),\n\n/***/ \"rrX4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/settings\",\n      function () {\n        return __webpack_require__(\"b804\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"rrX4\",0,1,4,9,10,8,7,2,3,5,6]]]);"}