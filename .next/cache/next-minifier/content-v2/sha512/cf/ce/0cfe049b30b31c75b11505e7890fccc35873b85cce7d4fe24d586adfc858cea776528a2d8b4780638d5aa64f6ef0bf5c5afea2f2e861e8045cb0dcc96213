{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{\"+wdE\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/profile\",function(){return a(\"huF4\")}])},huF4:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return C}));var n=a(\"rePB\"),o=a(\"nKUr\"),r=a(\"q1tI\"),s=a(\"/MKj\"),c=a(\"NKCw\"),i=a(\"g4pe\"),l=a.n(i),d=a(\"R/WZ\"),p=a(\"tRbT\"),b=a(\"ofer\"),j=a(\"r9w1\"),u=a(\"Nhdc\"),h=a(\"iuhU\"),m=a(\"LvDl\"),f=a.n(m),w=a(\"+ore\"),O=a(\"UGp+\"),x=a(\"KZYA\"),g=a(\"4QAx\");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},P=Object(d.a)((function(e){return{root:{height:\"calc(100vh - 48px - 44px)\"},wrap:v({height:\"100%\"},y),content:{height:480,width:980,backgroundColor:\"#F4F7FC\",padding:e.spacing(3),boxShadow:e.shadows[1]},avatar:v(v({},y),{},{width:132,height:132,border:\"3px dotted #e5e5e5\",backgroundColor:\"white\",\"& .icon\":{fontSize:32,color:\"#0A65FF\"}}),contact:{display:\"flex\",justifyContent:\"center\",flexDirection:\"column\"},infoRoot:{height:\"calc(100% - 132px - 25px)\",marginTop:e.spacing(2),backgroundColor:\"white\"},infoItem:{padding:e.spacing(2,2,0,2)},personalInfo:{borderRight:\"1px solid #e5e5e5\"},textField:{margin:10,marginLeft:0},timezones:{marginTop:e.spacing(1)},changePassword:{cursor:\"pointer\",opacity:.6,\"&:hover\":{opacity:1,textDecoration:\"underline\"}}}})),N=function(){return O.f({new_password:Object(g.a)(\"New password\"),old_password:O.h().required(\"Old password is required!\"),confirm_password:O.h().oneOf([O.g(\"new_password\"),null],\"Confirm password does not match with old password!\")})},C=!0;t.default=function(){var e=P(),t=Object(r.useMemo)(N,[]),a=Object(c.e)({defaultValues:{new_password:\"\",old_password:\"\",confirm_password:\"\"},shouldUnregister:!1,resolver:Object(x.a)(t)}),n=Object(s.b)(),i=Object(s.c)(w.c.selectProfile),d=Object(s.c)(w.c.selectPwdDialogState),m=Object(r.useMemo)((function(){return i.group_membership.reduce((function(e,t){return e+\"- \".concat(t.group_id,\" - \").concat(t.description,\"\\n\")}),\"\")}),[i.group_membership]);Object(r.useEffect)((function(){d.open||a.reset()}),[d.open]);var O=a.handleSubmit((function(e){var t=f.a.omit(e,\"confirm_password\");n(w.c.sagaChangePassword(t))}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l.a,{children:Object(o.jsx)(\"title\",{children:\"Profile Management\"})}),Object(o.jsx)(u.f,{items:[{label:\"Home\",href:\"/\"},{label:\"User Profile\",href:\"/profile\"}]}),Object(o.jsx)(\"div\",{className:e.root,children:Object(o.jsx)(\"div\",{className:e.wrap,children:Object(o.jsxs)(\"div\",{className:e.content,children:[Object(o.jsxs)(p.a,{container:!0,className:\"body\",children:[Object(o.jsx)(p.a,{item:!0,xs:2,children:Object(o.jsx)(u.i,{width:128,height:128,image:i.avatar,httpRequest:{method:\"put\",key:\"avatar\",endpoint:\"profile\"},onChange:function(e){n(w.c.actions.setProfileAvatar(e.base64))}})}),Object(o.jsxs)(p.a,{item:!0,xs:10,className:e.contact,children:[Object(o.jsx)(b.a,{variant:\"h6\",style:{marginBottom:12},children:\"\".concat(i.first_name,\" \").concat(i.last_name)}),Object(o.jsx)(b.a,{variant:\"body1\",children:\"Your personal information is disabled here. Please contact the Human Resource department to change your personal information.\"})]})]}),Object(o.jsxs)(p.a,{container:!0,className:e.infoRoot,children:[Object(o.jsxs)(p.a,{item:!0,xs:6,className:Object(h.a)(e.infoItem,e.personalInfo),children:[Object(o.jsx)(u.q,{label:\"Personal infomation\"}),Object(o.jsx)(j.a,{label:\"Email\",value:i.email,className:e.textField,disabled:!0}),Object(o.jsx)(j.a,{label:\"Valid Until\",value:i.valid_until,className:e.textField,disabled:!0})]}),Object(o.jsxs)(p.a,{item:!0,xs:6,className:e.infoItem,children:[Object(o.jsx)(u.q,{label:\"Sign in & Security\"}),Object(o.jsx)(j.a,{label:\"Username\",value:i.user_name,className:e.textField,disabled:!0}),Object(o.jsx)(\"div\",{onClick:function(){n(w.c.actions.setPwDialogState({open:!0}))},className:Object(h.a)(e.textField,e.changePassword),children:\"Change password\"}),Object(o.jsx)(j.a,{label:\"Group\",value:m,multiline:!0,rows:5,className:e.textField,disabled:!0})]})]}),Object(o.jsxs)(b.a,{variant:\"body1\",className:e.timezones,children:[\"Last Modified: \",i.updated_at]})]})})}),Object(o.jsx)(u.W,{title:\"Change Password\",open:d.open,loading:d.loading,closeText:\"Cancel\",onOk:O,onClose:function(){n(w.c.actions.setPwDialogState({open:!1})),a.reset()},children:Object(o.jsxs)(p.a,{container:!0,spacing:2,style:{marginTop:2},children:[Object(o.jsx)(p.a,{item:!0,xs:12,children:Object(o.jsx)(u.Eb,{control:a.control,name:\"old_password\",label:\"Old password\",type:\"password\",required:!0})}),Object(o.jsx)(p.a,{item:!0,xs:12,children:Object(o.jsx)(u.Bb,{control:a.control,name:\"new_password\",label:\"New password\",type:\"password\",required:!0})}),Object(o.jsx)(p.a,{item:!0,xs:12,children:Object(o.jsx)(u.Eb,{control:a.control,name:\"confirm_password\",label:\"Confirm password\",type:\"password\",required:!0})})]})})]})}}},[[\"+wdE\",0,1,4,9,10,8,7,2,3,5,6]]]);","map":{"version":3,"sources":["static/chunks/pages/profile-af82cafe94942cefd444.js"],"names":["_N_E","window","push","+wdE","module","exports","__webpack_require__","__NEXT_P","huF4","__webpack_exports__","r","d","__N_SSP","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","react_hook_form__WEBPACK_IMPORTED_MODULE_4__","next_head__WEBPACK_IMPORTED_MODULE_5__","next_head__WEBPACK_IMPORTED_MODULE_5___default","n","_material_ui_core__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core__WEBPACK_IMPORTED_MODULE_7__","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","_material_ui_core__WEBPACK_IMPORTED_MODULE_9__","_components__WEBPACK_IMPORTED_MODULE_10__","clsx__WEBPACK_IMPORTED_MODULE_11__","lodash__WEBPACK_IMPORTED_MODULE_12__","lodash__WEBPACK_IMPORTED_MODULE_12___default","_store_reducers__WEBPACK_IMPORTED_MODULE_13__","yup__WEBPACK_IMPORTED_MODULE_14__","_hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_15__","_utils_getPasswordYup__WEBPACK_IMPORTED_MODULE_16__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","centerElement","display","alignItems","justifyContent","useStyles","theme","root","height","wrap","content","width","backgroundColor","padding","spacing","boxShadow","shadows","avatar","border","& .icon","fontSize","color","contact","flexDirection","infoRoot","marginTop","infoItem","personalInfo","borderRight","textField","margin","marginLeft","timezones","changePassword","cursor","opacity","&:hover","textDecoration","getValidationSchema","new_password","old_password","required","confirm_password","oneOf","classes","validationSchema","passwordForm","defaultValues","shouldUnregister","resolver","dispatch","profile","selectProfile","pwdDialogState","selectPwdDialogState","groupMember","group_membership","reduce","preVal","currentVal","concat","group_id","description","open","reset","handleChangePassword","handleSubmit","formData","data","a","omit","sagaChangePassword","children","items","label","href","className","container","item","xs","image","httpRequest","method","endpoint","onChange","file","actions","setProfileAvatar","base64","variant","style","marginBottom","first_name","last_name","value","email","disabled","valid_until","user_name","onClick","setPwDialogState","multiline","rows","updated_at","title","loading","closeText","onOk","onClose","control","name","type"],"mappings":"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"},"name":"static/chunks/pages/profile-af82cafe94942cefd444.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[31],{\n\n/***/ \"+wdE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/profile\",\n      function () {\n        return __webpack_require__(\"huF4\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"huF4\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"rePB\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"NKCw\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"g4pe\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"R/WZ\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"tRbT\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ofer\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"r9w1\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"Nhdc\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"iuhU\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _store_reducers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"+ore\");\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"UGp+\");\n/* harmony import */ var _hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"KZYA\");\n/* harmony import */ var _utils_getPasswordYup__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"4QAx\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar centerElement = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center'\n};\nvar useStyles = Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(function (theme) {\n  return {\n    root: {\n      height: 'calc(100vh - 48px - 44px)'\n    },\n    wrap: _objectSpread({\n      height: '100%'\n    }, centerElement),\n    content: {\n      height: 480,\n      width: 980,\n      backgroundColor: '#F4F7FC',\n      padding: theme.spacing(3),\n      boxShadow: theme.shadows[1]\n    },\n    avatar: _objectSpread(_objectSpread({}, centerElement), {}, {\n      width: 132,\n      height: 132,\n      border: '3px dotted #e5e5e5',\n      backgroundColor: 'white',\n      '& .icon': {\n        fontSize: 32,\n        color: '#0A65FF'\n      }\n    }),\n    contact: {\n      display: 'flex',\n      justifyContent: 'center',\n      flexDirection: 'column'\n    },\n    infoRoot: {\n      height: 'calc(100% - 132px - 25px)',\n      marginTop: theme.spacing(2),\n      backgroundColor: 'white'\n    },\n    infoItem: {\n      padding: theme.spacing(2, 2, 0, 2)\n    },\n    personalInfo: {\n      borderRight: '1px solid #e5e5e5'\n    },\n    textField: {\n      margin: 10,\n      marginLeft: 0\n    },\n    timezones: {\n      marginTop: theme.spacing(1)\n    },\n    changePassword: {\n      cursor: 'pointer',\n      opacity: 0.6,\n      '&:hover': {\n        opacity: 1,\n        textDecoration: 'underline'\n      }\n    }\n  };\n});\n\nvar getValidationSchema = function getValidationSchema() {\n  return yup__WEBPACK_IMPORTED_MODULE_14__[/* object */ \"f\"]({\n    new_password: Object(_utils_getPasswordYup__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"])('New password'),\n    old_password: yup__WEBPACK_IMPORTED_MODULE_14__[/* string */ \"h\"]().required('Old password is required!'),\n    confirm_password: yup__WEBPACK_IMPORTED_MODULE_14__[/* string */ \"h\"]().oneOf([yup__WEBPACK_IMPORTED_MODULE_14__[/* ref */ \"g\"]('new_password'), null], 'Confirm password does not match with old password!')\n  });\n};\n\nvar ProfilePage = function ProfilePage() {\n  var classes = useStyles();\n  var validationSchema = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(getValidationSchema, []);\n  var passwordForm = Object(react_hook_form__WEBPACK_IMPORTED_MODULE_4__[/* useForm */ \"e\"])({\n    defaultValues: {\n      new_password: '',\n      old_password: '',\n      confirm_password: ''\n    },\n    shouldUnregister: false,\n    resolver: Object(_hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_15__[/* yupResolver */ \"a\"])(validationSchema)\n  });\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  var profile = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(_store_reducers__WEBPACK_IMPORTED_MODULE_13__[/* authStore */ \"c\"].selectProfile);\n  var pwdDialogState = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(_store_reducers__WEBPACK_IMPORTED_MODULE_13__[/* authStore */ \"c\"].selectPwdDialogState);\n  var groupMember = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    var group_membership = profile.group_membership;\n    return group_membership.reduce(function (preVal, currentVal) {\n      var groupTransform = \"- \".concat(currentVal.group_id, \" - \").concat(currentVal.description, \"\\n\");\n      return preVal + groupTransform;\n    }, '');\n  }, [profile.group_membership]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!pwdDialogState.open) {\n      passwordForm.reset();\n    }\n  }, [pwdDialogState.open]);\n  var handleChangePassword = passwordForm.handleSubmit(function (formData) {\n    var data = lodash__WEBPACK_IMPORTED_MODULE_12___default.a.omit(formData, 'confirm_password');\n\n    dispatch(_store_reducers__WEBPACK_IMPORTED_MODULE_13__[/* authStore */ \"c\"].sagaChangePassword(data));\n  });\n\n  var handleOpenDialog = function handleOpenDialog() {\n    dispatch(_store_reducers__WEBPACK_IMPORTED_MODULE_13__[/* authStore */ \"c\"].actions.setPwDialogState({\n      open: true\n    }));\n  };\n\n  var handleCloseDialog = function handleCloseDialog() {\n    dispatch(_store_reducers__WEBPACK_IMPORTED_MODULE_13__[/* authStore */ \"c\"].actions.setPwDialogState({\n      open: false\n    }));\n    passwordForm.reset();\n  };\n\n  var handleChangeProfile = function handleChangeProfile(file) {\n    dispatch(_store_reducers__WEBPACK_IMPORTED_MODULE_13__[/* authStore */ \"c\"].actions.setProfileAvatar(file.base64));\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(next_head__WEBPACK_IMPORTED_MODULE_5___default.a, {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"title\", {\n        children: \"Profile Management\"\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* AppBreadcrumb */ \"f\"], {\n      items: [{\n        label: 'Home',\n        href: '/'\n      }, {\n        label: 'User Profile',\n        href: '/profile'\n      }]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\", {\n      className: classes.root,\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\", {\n        className: classes.wrap,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(\"div\", {\n          className: classes.content,\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            container: true,\n            className: \"body\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n              item: true,\n              xs: 2,\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* AppImageField */ \"i\"], {\n                width: 128,\n                height: 128,\n                image: profile.avatar,\n                httpRequest: {\n                  method: 'put',\n                  key: 'avatar',\n                  endpoint: 'profile'\n                },\n                onChange: handleChangeProfile\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n              item: true,\n              xs: 10,\n              className: classes.contact,\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n                variant: \"h6\",\n                style: {\n                  marginBottom: 12\n                },\n                children: \"\".concat(profile.first_name, \" \").concat(profile.last_name)\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n                variant: \"body1\",\n                children: \"Your personal information is disabled here. Please contact the Human Resource department to change your personal information.\"\n              })]\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            container: true,\n            className: classes.infoRoot,\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n              item: true,\n              xs: 6,\n              className: Object(clsx__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"])(classes.infoItem, classes.personalInfo),\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* AppTitle */ \"q\"], {\n                label: \"Personal infomation\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n                label: \"Email\",\n                value: profile.email,\n                className: classes.textField,\n                disabled: true\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n                label: \"Valid Until\",\n                value: profile.valid_until,\n                className: classes.textField,\n                disabled: true\n              })]\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n              item: true,\n              xs: 6,\n              className: classes.infoItem,\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* AppTitle */ \"q\"], {\n                label: \"Sign in & Security\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n                label: \"Username\",\n                value: profile.user_name,\n                className: classes.textField,\n                disabled: true\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\", {\n                onClick: handleOpenDialog,\n                className: Object(clsx__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"])(classes.textField, classes.changePassword),\n                children: \"Change password\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n                label: \"Group\",\n                value: groupMember,\n                multiline: true,\n                rows: 5,\n                className: classes.textField,\n                disabled: true\n              })]\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n            variant: \"body1\",\n            className: classes.timezones,\n            children: [\"Last Modified: \", profile.updated_at]\n          })]\n        })\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* DialogMain */ \"W\"], {\n      title: \"Change Password\",\n      open: pwdDialogState.open,\n      loading: pwdDialogState.loading,\n      closeText: \"Cancel\",\n      onOk: handleChangePassword,\n      onClose: handleCloseDialog,\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        container: true,\n        spacing: 2,\n        style: {\n          marginTop: 2\n        },\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* FormControllerTextField */ \"Eb\"], {\n            control: passwordForm.control,\n            name: \"old_password\",\n            label: \"Old password\",\n            type: \"password\",\n            required: true\n          })\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* FormControllerPasswordField */ \"Bb\"], {\n            control: passwordForm.control,\n            name: \"new_password\",\n            label: \"New password\",\n            type: \"password\",\n            required: true\n          })\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_components__WEBPACK_IMPORTED_MODULE_10__[/* FormControllerTextField */ \"Eb\"], {\n            control: passwordForm.control,\n            name: \"confirm_password\",\n            label: \"Confirm password\",\n            type: \"password\",\n            required: true\n          })\n        })]\n      })\n    })]\n  });\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProfilePage);\n\n/***/ })\n\n},[[\"+wdE\",0,1,4,9,10,8,7,2,3,5,6]]]);"}